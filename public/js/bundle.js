!function(e){var t={};function a(s){if(t[s])return t[s].exports;var n=t[s]={i:s,l:!1,exports:{}};return e[s].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)a.d(s,n,function(t){return e[t]}.bind(null,n));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="",a(a.s=0)}([function(e,t,a){"use strict";a.r(t);const s=2.8;var n={calcWatt:function(e){return s/Math.pow(e,3)},sessionNameToReadable:function(e){return moment(e.slice(0,13)+":"+e.slice(13,15)+":"+e.slice(15)).format("YYYY-MM-DD hh:mm:ss")},getHeartRateColor:function(e){return e<125?"text-success":e<150?"text-primary":e<175?"text-warning":"text-danger"},getUrlParameter:function(e){var t,a,s=decodeURIComponent(window.location.search.substring(1)).split("&");for(a=0;a<s.length;a++)if((t=s[a].split("="))[0]===e)return void 0===t[1]||t[1]},fmtMSS:function(e){var t=new Date(null);return t.setSeconds(e),t.toISOString().substr(11,8)},QueryString:function(e){for(var t={},a=(e.split("?")[1]||""||"").split("&"),s=0;s<a.length;s++){var n=a[s].split("=");if(void 0===t[n[0]])t[n[0]]=decodeURIComponent(n[1]);else if("string"==typeof t[n[0]]){var o=[t[n[0]],decodeURIComponent(n[1])];t[n[0]]=o}else t[n[0]].push(decodeURIComponent(n[1]))}return t}},o={livePoints:[],liveMap:void 0,liveBounds:void 0,markers:[]};const i=[{featureType:"landscape",stylers:[{saturation:-100},{lightness:65},{visibility:"on"}]},{featureType:"poi",stylers:[{saturation:-100},{lightness:51},{visibility:"simplified"}]},{featureType:"road.highway",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"road.arterial",stylers:[{saturation:-100},{lightness:30},{visibility:"on"}]},{featureType:"road.local",stylers:[{saturation:-100},{lightness:40},{visibility:"on"}]},{featureType:"transit",stylers:[{saturation:-100},{visibility:"simplified"}]},{featureType:"administrative.province",stylers:[{visibility:"off"}]},{featureType:"water",elementType:"labels",stylers:[{visibility:"on"},{lightness:-25},{saturation:-100}]},{featureType:"water",elementType:"geometry",stylers:[{hue:"#ffff00"},{lightness:-25},{saturation:-97}]}];function r(){let e=document.getElementById("live-map");e&&(o.liveMap=new google.maps.Map(e,{zoom:8,maxZoom:16}),o.liveBounds=new google.maps.LatLngBounds,o.liveMap.set("styles",i))}function l(e){return new google.maps.Polyline({path:e,strokeColor:"#FF00AA",strokeOpacity:.7,strokeWeight:4})}var d=function(e,t){let a=new google.maps.Map(t[0],{zoom:16});var s=c.bind(null,a);e&&$.ajax({type:"GET",url:"/sessions/"+e+".gpx",success:s})};function c(e,t){let a=[];e.set("styles",i);let s=new google.maps.LatLngBounds,n=1,o=1;$(t).find("trkpt").each(function(){let t=$(this).attr("lat"),i=$(this).attr("lon"),r=new google.maps.LatLng(t,i);a.push(r);let d=l(a).inKm();n=parseInt(d/.5)+1,o<n&&(u(r,"Runde: "+(n-1),String(n-1),e),o++),s.extend(r)}),l(a).setMap(e),e.fitBounds(s)}function u(e,t,a,s=o.liveMap){o.markers.push(new google.maps.Marker({position:e,map:s,title:t,label:a}))}var p={cleanMap:function(e=!0){e&&r(),o.livePoints=[],o.markers=[],l(o.livePoints).setMap(o.liveMap),void 0!==o.liveMap&&"function"==typeof o.liveMap.fitBounds&&o.liveMap.fitBounds(o.liveBounds)},initMap:r,styles:i,addRouteTrackToMap:function(e,t){e&&$.ajax({type:"GET",url:"/routes/"+e,success:function(e){let a=e.gps,s=t[0],n=[],o=new google.maps.Map(s,{zoom:8,maxZoom:16});o.set("styles",i);let r=new google.maps.LatLngBounds;a.forEach(function(e){let t=e.lat,a=e.lon,s=new google.maps.LatLng(t,a);n.push(s),r.extend(s)}),l(n).setMap(o),o.fitBounds(r)}})},addGpxTrackToMap:d,loadGpxMap:function(){let e=$(this).data("name"),t=$(this).find(".card-map-top");d(e,t)},createPolyLine:l,addMarker:u,addSessionTrackToMap:function(e){var t=c.bind(null,o.liveMap);$.ajax({type:"GET",url:"row/gpx",success:t,complete:e})}};var v={leaderboard:function(e,t){$.get("/strava/route/leaderboard/"+e,function(e){t(e)})},segment:function(e,t){$.get("/strava/route/"+e,function(e){t.apply(e)})}};const f=100/4.805*6,m=10;google.maps.LatLng.prototype.kmTo=function(e){var t=Math,a=t.PI/180,s=this.lat()*a,n=e.lat()*a,o=s-n,i=this.lng()*a-e.lng()*a;return 6378.137*(2*t.asin(t.sqrt(t.pow(t.sin(o/2),2)+t.cos(s)*t.cos(n)*t.pow(t.sin(i/2),2))))},google.maps.Polyline.prototype.inKm=function(e){for(var t=this.getPath(e),a=t.getLength(),s=0,n=0;n<a-1;n++)s+=t.getAt(n).kmTo(t.getAt(n+1));return s};var h={RATION:f,PAGE_SIZE:m,UPDATE_FREQ:1e3,run:!1};var g={addGraph:function(e,t,a,s){for(var o=[],i=[],r=[],l=1,d=1;d<e.length;d++){var c=parseInt(e[d]),u=parseInt(s[l]),p=(c-a)/1e3,v=f/100;o.push(v/p*3.6);var m=n.calcWatt(p/v);i.push(m),r.push(6e4/(u-parseInt(s[l-1]))),a=parseInt(e[d]),c>u&&l++}var h=[],g=[],y=[],b=[],w=[],k=10;for(e.length>1e3&&(k=20);e.length;){var x,S=e.splice(0,k),I=parseInt(S.reduce(function(e,t){return e+t})/S.length);if(w.push(new Date(I).toISOString().substr(new Date(I).toISOString().lastIndexOf("T")+1,8)),t)(x=t.splice(0,k)).length>0&&g.push(parseInt(x.reduce(function(e,t){return e+t})/x.length));if(r)(x=r.splice(0,k)).length>0&&b.push(Math.round(10*parseFloat(x.reduce(function(e,t){return e+t})/x.length))/10);if(o){var M=o.splice(0,k),R=i.splice(0,k);M.length>0&&h.push(Math.round(10*parseFloat(M.reduce(function(e,t){return e+t})/M.length))/10),R.length>0&&y.push(Math.round(10*parseFloat(R.reduce(function(e,t){return e+t})/R.length))/10)}}var T=$("#hr-graph"),D={labels:w,datasets:[{label:"Heart rate (bpm)",borderColor:"#dc3545",backgroundColor:"#dc3545",fill:!1,data:g,yAxisID:"y-axis-1"},{label:"Speed (km/t)",borderColor:"#007bff",backgroundColor:"#007bff",fill:!1,data:h,yAxisID:"y-axis-2"},{label:"Watt",borderColor:"#4bc0c0",backgroundColor:"#4bc0c0",fill:!1,data:y,lineTension:0,yAxisID:"y-axis-3"},{label:"Stroke rate (spm)",borderColor:"#9966FF",backgroundColor:"#9966FF",fill:!1,data:b,yAxisID:"y-axis-4"}]};Chart.Line(T,{data:D,options:{responsive:!0,hoverMode:"index",stacked:!1,scales:{yAxes:[{type:"linear",display:!0,position:"left",id:"y-axis-1",ticks:{suggestedMin:30,min:0,stepSize:5}},{type:"linear",display:!0,position:"right",id:"y-axis-2",ticks:{stepSize:2},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-3",ticks:{stepSize:25},gridLines:{drawOnChartArea:!1}},{type:"linear",display:!0,position:"right",id:"y-axis-4",ticks:{stepSize:2,suggestedMin:10},gridLines:{drawOnChartArea:!1}}]}}})}},y=function(e,t,a){return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a class="route-detail" data-route-name="'+a.name+'" href="?route='+a.name+'#routedetail">'+a.name+"</a></td>",e+="<td>"+parseInt(a.meters)+"m</td>",e+="<td>"+a.country+"</td>",e+="<td>",!0!==a.permanent?e+='<a class="edit-route" href="#" data-id="'+a.name+'"><i class="material-icons">create</i></a><a class="del-route" href="#" data-id="'+a.name+'"><i aria-hidden="true" title="Delete route" class="material-icons">delete</i></a></td>':e+="<i>Default</i>",e+="</tr>"};function b(e){$("#load").load("/route",function(){$(this).find("#routes-t").each(function(){k(0),w($("#routes-table").find(".page")[0],e)})})}function w(e,t){var a=$('<ul id="route-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("routes/size",function(s){var n=parseInt(parseInt(s)/m)+1,o=t===n-1?"disabled":"",i=$('<li class="page-item '+(0===t?"disabled":"")+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),r=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(i);for(var l=0;l<n;l++){var d="";t===l&&(d="active");var c=$('<li class="page-item '+d+'"><a class="page-link" data-index="'+l+'" href="#">'+(l+1)+"</a></li>");a.append(c)}a.append(r),$(e).html(a)})}function k(e){var t=e*m,a=(e+1)*m-1;$.get("/routes/"+t+"/"+a,function(t){var a="",s=0;t.forEach(function(t){a=y(a,s+e*m,t),s++}),$("#routes-table-body").html(a),$("#add-route-modal").on("hidden.bs.modal",function(e){b(0)})})}function x(e){$("#load").load("/route/details",function(){p.cleanMap();var t=I.bind($(this).find("#strava-result"));v.leaderboard(e,t),p.addRouteTrackToMap(e,$("#live-map")),$(this).find("#route-stats").each(S.bind(this,e)),$(this).find("#strava-result").each(route.loadRoutes)})}function S(e){var t=this;$.ajax({url:"/routes/"+e,type:"GET",success:function(e){let a='<div class="card card-default"><div class="card-body"><div class="row">';a+='<div class="col-md-5"><div class="statistic"><div class="value">'+e.name+'</div><div class="label">Name</div></div></div>',a+='<div class="col-md-2"><div class="statistic"><div class="value">'+e.meters+'</div><div class="label">Lenght (m)</div></div></div>',a+='<div class="col-md-5"><div class="statistic"><div class="value">'+e.country+'</div><div class="label">Country</div></div></div>',a+="</div></div></div>",$(t).find("#route-stats").html(a)}})}function I(e){var t="";e.entries&&e.entries.forEach(function(e){t+='<tr> <th scope="row"> '+e.athlete_name+" </th><td> "+n.fmtMSS(parseInt(e.moving_time))+"</td> <td>"+e.start_date+"</td></tr>"}),this.html(t)}var M={loadRoutes:function(){var e=this;$.get("/row/routes",function(t){var a="",s="";t.sort(function(e,t){return e.country>t.country?1:t.country>e.country?-1:0});var n='selected="selected"';t.forEach(function(e){e.country!==s&&(a+='<optgroup label="'+e.country+'">',s=e.country),a+="<option "+n+' value="'+e.index+'" data-name="'+e.name+'" data-lat="'+e.gps[0].lat+'" data-lon="'+e.gps[0].lon+'">'+e.name+" ("+e.meters+"m)</option>",n="",0}),$(e).html(a)})},createRouteRecord:y,loadRoute:b,loadRouteTable:k,createRouteNavPage:w,editRoute:function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/routes/"+t,type:"GET",success:function(e){var t=$("#addRoute");t.find("#name").val(e.name),t.find("#meters").val(e.meters),t.find("#segmentId").val(e.segmentId),t.find("#countries").val(e.country);var a=JSON.stringify(e.gps);t.find("#gps").append(a),$("#add-route-modal").modal("show")}})},showRouteModal:function(e){var t=$(e.relatedTarget).data("route-name"),a=$(this);$.get("/routes/"+t,function(e){var t=e.name;e.segementId&&(t='<a class="strava-segment" target="_blank" href="https://www.strava.com/segments/'+e.segementId+' title="Strava Segment Url" ">'+t+" </a>"),a.find("#show-route-modal-title").html(t);var s='<li class="list-group-item"><h5 class="card-title">Display Lenght:</h5>'+e.meters+" m</li>";s+='<li class="list-group-item"><h5 class="card-title">Gps Lenght:</h5>'+e.gpsLenght+" m</li>",s+='<li class="list-group-item"><h5 class="card-title">Country:</h5>'+e.country+"</li>",a.find(".card .list-group").html(s)})},changeRouteSelect:function(){var e=$("#routes").find(":selected");p.cleanMap();var t=e.data("name");p.addRouteTrackToMap(t,$("#live-map"))},deleteRoute:function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete route?")&&$.ajax({url:"/routes/"+t,type:"DELETE",success:function(e){route.loadRoute(0)}})},saveRoute:function(e){e.preventDefault();var t=$("#addRoute"),a={};a.name=t.find("#name").val(),a.meters=t.find("#meters").val(),a.stravaId=t.find("#segmentId").val(),a.country=t.find("#countries").val(),a.gps=t.find("textarea").val(),$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/routes/add",data:JSON.stringify(a),success:function(){$("#add-route-modal").modal("hide")}})},openRoute:function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#route-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,w($("#routes-table").find(".page")[0],s),k(s)},loadRouteDetail:x,clickRouteDetail:function(e){e.preventDefault(),x($(this).data("route-name"))}};var R={loadUsers:function(){var e=this;$.get("/users",function(t){var a="";t.forEach(function(e){a+='<option value="'+e.id+'">'+e.firstName+" "+e.lastName+"</option>"}),$(e).html(a)})},loadUser:function e(){$("#load").load("/user",function(){$(this).find("#users-body").each(function(){var t=this;$.get("/users/",function(a){for(var s="",n=0;n<a.length;n++){var o=a[n];s+='<tr><td><a href="#" data-toggle="modal" data-target="#userStatsModal" data-id="'+o.id+'">'+(n+1)+"</a></td><td>"+o.firstName+"</td><td>"+o.lastName+"</td>",s+='<td><a class="edit-user" href="#" data-id="'+o.id+'"><i class="material-icons">create</i></a><a class="del-user" href="#" data-id="'+o.id+'"><i aria-hidden="true" title="Delete user" class="material-icons">delete</i></a></td></tr>'}$(t).html(s),$("#addUserModal").on("hidden.bs.modal",function(t){e()})})})})},editUser:function(e){e.preventDefault();var t=$(this).data("id");$.ajax({url:"/users/"+t,type:"GET",success:function(e){var t=$("#addUserForm");t.find("#firstName").val(e.firstName),t.find("#lastName").val(e.lastName),t.find("#userId").val(e.id),$.get("/strava/url",function(t){var a=t.url.replace("%24",e.id);$(".strava-url").attr("href",a)}),$(".strava-connect").removeClass("sr-only"),$("#addUserModal").modal("show")}})},saveUser:function(e){e.preventDefault();var t=$("#addUserForm"),a=t.find("#firstName").val(),s=t.find("#lastName").val(),n=t.find("#userId").val(),o={};o.firstName=a,o.lastName=s,o.id=n,$.ajax({type:"PUT",contentType:"application/json",dataType:"json",url:"/users/add",data:JSON.stringify(o),success:function(){$("#addUserModal").modal("hide")}})},deleteUser:function(e){e.preventDefault();var t=$(this).data("id");confirm("Are you sure you want to delete?")&&$.ajax({url:"/users/"+t,type:"DELETE",success:function(e){user.loadUser()}})}};function T(e){$("#load").load("/history",function(){$(this).find("#history").each(function(){$.get("/session/0/2",function(e){var t="";e.forEach(function(e){t=L(t,e)}),$("#cards").html('<div class="col"><div class="card-deck">'+t+"</div></div>"),$(".gpx-track").each(function(){$(this).trigger("load-map",this)})}),D($(this),e)})})}function D(e,t){var a=t*m,s=(t+1)*m-1;$.get("/session/"+a+"/"+s,function(a){$.get("/users",function(s){var n="",o=0,i=s.reduce(function(e,t){return e[t.id]=t,e},{});a.forEach(function(e){n=U(n,o+t*m,e,i),o++}),$("#histor-table-body").html(n),function(e,t){var a=$('<ul id="history-page" data-index="'+t+'"></ul>').addClass("pagination pagination-lg");$.get("session/size",function(s){var n=parseInt(parseInt(s)/m)+1,o=t===n-1?"disabled":"",i=$('<li class="page-item '+(0===t?"disabled":"")+'"></li>').append('<a class="page-link" href="#" data-next="-1" tabindex="-1">Previous</a>'),r=$('<li class="page-item '+o+'"></li>').append('<a class="page-link" data-next="1" href="#">Next</a>');a.append(i);for(var l=0;l<n;l++){var d="";t===l&&(d="active");var c=$('<li class="page-item '+d+'"><a class="page-link" data-index="'+l+'" href="#">'+(l+1)+"</a></li>");a.append(c)}a.append(r),$(e).html(a)})}(e.find(".page"),t)})})}var L=function(e,t){return e+='<div class="card gpx-track" data-name="'+t.name+'"">',e+='<div class="card-body">',e+='<div class="card-map-top "></div>',e+='<h5 class="card-title mt-2"><a class="sessions" data-name="'+t.name+'" href="/session">'+n.sessionNameToReadable(t.name)+"</a></h5>",e+='<p class="card-text">Length: '+parseInt(t.endStats.meters)+"m, Time: "+n.fmtMSS(parseInt(t.endStats.seconds))+"</p>",e+='<a href="/strava/upload/'+t.name+'" class="btn btn-primary strava btn-block">Upload to Strava</a>',e+="</div>",e+="</div>"},U=function(e,t,a,s){var o=s[a.user];return e+="<tr>",e+='<th scope="row">'+(t+1)+"</th>",e+='<td><a class="sessions" data-name="'+a.name+'" href="/?name='+a.name+'#session">'+n.sessionNameToReadable(a.name)+"</a></td>",e+="<td>Length: "+parseInt(a.endStats.meters)+"m</td>",e+=o?"<td>"+o.firstName+" "+o.lastName+"</td>":"<td></td>",e+='<td> <a href="/sessions/'+a.name+'.gpx"><i class="material-icons md-36">file_download</i><a class="strava" href="/strava/upload/'+a.name+'"><i aria-hidden="true" title="Upload to Strava" class="material-icons md-36 strava-icon">cloud_upload</i></a> <a class="del-session" href="#" data-name="'+a.name+'"><i aria-hidden="true" title="Delete session local" class="material-icons md-36">delete</i></a></td>',e+="</tr>"};var N={loadHistoryIndex:function(e){T(e)},loadHistory:T,loadHistoryList:D,openHistory:function(e){e.preventDefault();var t=parseInt($(this).data("next")),a=parseInt($(this).data("index")),s=parseInt($("#history-page").data("index"));isNaN(t)?isNaN(a)||(s=a):s+=t,D($("#history-table"),s)}};function C(e){$("#load").load("/sessions",function(){$(this).find("#routes").each(M.loadRoutes),$(this).find("#session-user").each(R.loadUsers),$(this).find("#history-session").each(function(){$.get("/session/"+e,function(t){var a=B.getHtml("History",t.endStats,!0);$("#routes").val(t.route),$("#session-user").val(t.user),a&&($("#table-content").html(a),$("#laps-body").html(E("History",t.endStats)),p.addGpxTrackToMap(e,$("#live-map"))),g.addGraph(t.raw,t.rawHr,parseInt(t.start),t.stroke)})})})}function E(e,t,a){var s="";if(parseInt(t.totalLaps)>0){var o=1,i=t.laps;a&&(i.reverse(),o=i.length),i.forEach(function(e){console.log(e),s+='<tr><th scope="row">'+o+"</th><td>"+parseInt(e.meters)+"</td><td>"+n.fmtMSS(parseInt(e.seconds))+"</td>",s+="<td>"+Math.round(10*parseFloat(e.watt))/10+"w</td></tr>",a?o--:o++})}return s}var P,A={loadSession:C,clickSession:function(e){e.preventDefault(),C($(this).data("name"))},getLapHtml:E,deleteSession:function(e){e.preventDefault();var t=$(this).data("name");confirm("Are you sure you want to delete session?")&&$.ajax({url:"/session/del/"+t,type:"DELETE",success:function(e){alert("Session deleted"),N.loadHistoryIndex(0,0)}})}};let j=function(e){let t=e.user,a=e.route;t&&$("#session-user").val(t),a&&$("#routes").val(a)};function O(){$("#load").load("/main",function(){var e=$(this);$.when(e.find("#routes").each(M.loadRoutes),e.find("#session-user").each(R.loadUsers)).done($.get("/row/status",function(e){let t=!1;if("ROWING"===e.status){t=!0;var a=$("#startRow");n.getUrlParameter("test")&&(a=$("#startSimulator")),H(a,!0)}else M.changeRouteSelect();j(e)})),n.getUrlParameter("test")&&$("#startRow").attr("id","startSimulator")})}function H(e,t=!1){if($("#main-nav").hide(),$(window).scrollTop($("#main").offset().top),t){p.cleanMap();var a=_.bind(null,!0,"Rowing");p.addSessionTrackToMap(a)}else _(!0,"Rowing"),p.cleanMap();$("#routes").attr("disabled","disabled"),$("#session-user").attr("disabled","disabled"),$("#startSimulator").attr("disabled","disabled"),$(e).attr("disabled","disabled"),$(e).html("Rowing..."),$(e).addClass("d-none"),$("#stopRow").removeClass("d-none")}function _(e,t){h.run=e,$.get("/row",function(e){var a=F(t,e);if(a){$("#table-content").html(a),$("#laps-body").html(A.getLapHtml(t,e,!0));var s=e.gps.lat,n=e.gps.lon,i=new google.maps.LatLng(s,n);if(o.markers.length<e.totalLaps&&p.addMarker(i,"Runde: "+e.totalLaps,String(e.totalLaps)),o.livePoints.push(i),o.liveBounds)o.liveBounds.extend(i),p.createPolyLine(o.livePoints).setMap(o.liveMap),o.liveMap.fitBounds(o.liveBounds)}}).done(function(){h.run&&(P=setTimeout(function(){_(!0,t)},h.UPDATE_FREQ))})}function F(e,t,a){if(0!==parseInt(t.meters)){var s="";return a&&(s+='<div class="row"><div class="col-sm-4">Day</div><div class="col">'+t.start.substr(2,t.start.lastIndexOf("T")-2)+"</div></div>"),s+='<div class="row"><div class="col-sm-4">Start:</div><div class="col">'+t.start.substr(t.start.lastIndexOf("T")+1,8)+"</div></div>",s+='<div class="row"><div class="col-sm-4">Time:</div><div class="col">'+n.fmtMSS(parseInt(t.seconds))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Length:</div><div class="col">'+parseInt(t.meters)+" m ("+t.percent+")</div></div>",s+='<div class="row"><div class="col-sm-4">Pace:</div><div class="col">'+Math.round(3.6*parseFloat(t.pace)*10)/10+" km/t</div></div>",s+='<div class="row"><div class="col-sm-4">500m:</div><div class="col">'+n.fmtMSS(parseInt(t.lapPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">2k:</div><div class="col">'+n.fmtMSS(parseInt(t.towKPace))+"</div></div>",s+='<div class="row"><div class="col-sm-4">Avg.W:</div><div class="col">'+Math.round(10*parseFloat(t.watt))/10+"w</div></div>",s+='<div class="row"><div class="col-sm-4">SR:</div><div class="col">'+Math.round(10*parseFloat(t.stroke))/10+"</div></div>",parseInt(t.hr)>0&&(s+='<div class="row"><div class="col-sm-4">HR:</div><div class="col '+n.getHeartRateColor(parseInt(t.hr))+'">'+parseInt(t.hr)+(parseInt(t.avgHr)>0?"("+parseInt(t.avgHr)+")":"")+"</div></div>"),t.fileName&&(s+='<div class="row"><div class="col-sm-4">Actions:</div><div class="col"><a href="/sessions/'+t.fileName,s+='"><i class="material-icons">file_download</i><a class="strava" href="/strava/upload/'+t.name,s+='"><i aria-hidden="true" title="Upload to strava" class="material-icons">cloud_upload</i></a>',s+='<a class="sessions" data-name="'+t.name+'" href="/sessions"><i aria-hidden="true" title="Session" class="material-icons">fiber_new</i></a></div></div>'),s+""}}var B={loadMain:O,start:H,get_rowInfo:_,getHtml:F,startRow:function(e){e.preventDefault();var t=$("#routes").val(),a=$("#session-user").val(),s=this;$.get("/row/start",{routes:t,user:a},function(){H(s)})},stopRow:function(e){e.preventDefault(),$("#main-nav").show(),$(window).scrollTop($("#main-nav").offset().top);var t=$(this);clearTimeout(P),h.run=!1;var a=$("#routes").val(),s=$("#session-user").val();$.get("/row/stop",{routes:a,user:s},function(e){$("#table-content").html(F("Stopped",e,!1));var a=$("#startRow");a.removeAttr("disabled"),a.removeClass("d-none"),a.html("Start row"),t.addClass("d-none"),$("#routes").removeAttr("disabled"),$("#session-user").removeAttr("disabled"),$("#startSimulator").removeAttr("disabled")})},load:function(){switch(window.location.hash){case"#route":M.loadRoute(0);break;case"#user":R.loadUser();break;case"#history":N.loadHistory(0);break;case"#session":var e=n.QueryString(window.location.href).name.replace("#session","");A.loadSession(e);break;case"#routedetail":M.loadRouteDetail(n.QueryString(window.location.href).route);break;default:O()}},uploadToStrava:function(e){e.preventDefault();var t=$(this).attr("href");$.get(t,function(e){alert("Uploaded to strava!")})}};window.QueryString=function(){for(var e={},t=window.location.search.substring(1).split("&"),a=0;a<t.length;a++){var s=t[a].split("=");if(void 0===e[s[0]])e[s[0]]=decodeURIComponent(s[1]);else if("string"==typeof e[s[0]]){var n=[e[s[0]],decodeURIComponent(s[1])];e[s[0]]=n}else e[s[0]].push(decodeURIComponent(s[1]))}return e}(),$(function(){B.get_rowInfo(!1,""),$(document).on("click",".main",function(e){B.loadMain()}),$(document).on("click","#user",function(e){R.loadUser()}),$(document).on("click","#history-page a",N.openHistory),$(document).on("click","#route-page a",M.openRoute),$(document).on("click",".nav-link",function(e){$("#main-nav").find(".nav-item").each(function(){$(this).removeClass("active")}),$(this).parent().addClass("active")}),$(document).on("click",".sessions",A.clickSession),$(document).on("click","a#history",function(e){N.loadHistoryIndex(0,0)}),$(document).on("click","a#route",function(e){M.loadRoute(0)}),$(document).on("load-map",".gpx-track",p.loadGpxMap),$(document).on("click","button#startRow",B.startRow),$(document).on("click","button#stopRow",B.stopRow),$(document).on("click",".edit-user",R.editUser),$(document).on("click",".edit-route",M.editRoute),$(document).on("click",".strava",B.uploadToStrava),$(document).on("click",".del-session",A.deleteSession),$(document).on("click","#save-route",M.saveRoute),$(document).on("click","#save-user",R.saveUser),$(document).on("click",".del-user",R.deleteUser),$(document).on("click",".del-route",M.deleteRoute),$(document).on("click",".route-detail",M.clickRouteDetail),$("#load").each(B.load),$("#routes").each(M.loadRoutes),$("#session-user").each(R.loadUsers),$(document).on("show.bs.modal","#show-route-modal",M.showRouteModal),$(document).on("shown.bs.modal","#show-route-modal",function(e){var t=$(e.relatedTarget).data("route-name");p.addRouteTrackToMap(t,$("#live-route-map"))}),$(document).on("change","#routes",M.changeRouteSelect)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL21hcC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL21hcFV0aWxzLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvdXRpbHMvc3RyYXZhLmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvdXRpbHMvZ2xvYmFscy5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3V0aWxzL2dyYXBoVXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9yb3V0ZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL3VzZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vcHVibGljL2pzL3NyYy9oaXN0b3J5L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvc2Vzc2lvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9wdWJsaWMvanMvc3JjL2Zyb250L2luZGV4LmpzIiwid2VicGFjazovLy8uL3B1YmxpYy9qcy9zcmMvbWFpbi5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIldBVFRfUkFUSU9OIiwiY2FsY1dhdHQiLCJwYWNlIiwiTWF0aCIsInBvdyIsInNlc3Npb25OYW1lVG9SZWFkYWJsZSIsIm1vbWVudCIsInNsaWNlIiwiZm9ybWF0IiwiZ2V0SGVhcnRSYXRlQ29sb3IiLCJociIsImdldFVybFBhcmFtZXRlciIsInNQYXJhbSIsInNQYXJhbWV0ZXJOYW1lIiwic1VSTFZhcmlhYmxlcyIsImRlY29kZVVSSUNvbXBvbmVudCIsIndpbmRvdyIsImxvY2F0aW9uIiwic2VhcmNoIiwic3Vic3RyaW5nIiwic3BsaXQiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJmbXRNU1MiLCJkYXRlIiwiRGF0ZSIsInNldFNlY29uZHMiLCJ0b0lTT1N0cmluZyIsInN1YnN0ciIsIlF1ZXJ5U3RyaW5nIiwiVVJMIiwicXVlcnlfc3RyaW5nIiwidmFycyIsInBhaXIiLCJhcnIiLCJwdXNoIiwibGl2ZVBvaW50cyIsImxpdmVNYXAiLCJsaXZlQm91bmRzIiwic3R5bGVzIiwiaW5pdE1hcCIsIm1hcERpdiIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJtYXAiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiem9vbSIsIm1heFpvb20iLCJMYXRMbmdCb3VuZHMiLCJzZXQiLCJjcmVhdGVQb2x5TGluZSIsInBvaW50cyIsIlBvbHlsaW5lIiwicGF0aCIsInN0cm9rZUNvbG9yIiwic3Ryb2tlT3BhY2l0eSIsInN0cm9rZVdlaWdodCIsImFkZEdweFRyYWNrVG9NYXAiLCJlbGVtZW50Iiwic3VjY2VzWG1sIiwiYWRkWG1sIiwiJCIsImFqYXgiLCJ0eXBlIiwidXJsIiwic3VjY2VzcyIsInhtbCIsImJvdW5kcyIsImxhcHMiLCJtYXJrZXIiLCJmaW5kIiwiZWFjaCIsImxhdCIsInRoaXMiLCJhdHRyIiwibG9uIiwiTGF0TG5nIiwia20iLCJpbkttIiwicGFyc2VJbnQiLCJhZGRNYXJrZXIiLCJTdHJpbmciLCJleHRlbmQiLCJzZXRNYXAiLCJmaXRCb3VuZHMiLCJ0aXRsZSIsInJvdW5kIiwibWFya2VycyIsIk1hcmtlciIsInBvc2l0aW9uIiwibGFiZWwiLCJjbGVhbk1hcCIsImluaXQiLCJhZGRSb3V0ZVRyYWNrVG9NYXAiLCJkYXRhIiwiZ3BzIiwibWFwRWxlbWVudCIsImZvckVhY2giLCJwb2ludCIsImxvYWRHcHhNYXAiLCJhZGRTZXNzaW9uVHJhY2tUb01hcCIsImNvbXBsZXRlIiwibGVhZGVyYm9hcmQiLCJjYWxsYmFjayIsInNlZ21lbnQiLCJhcHBseSIsIlJBVElPTiIsIlBBR0VfU0laRSIsImttVG8iLCJhIiwiZSIsInJhIiwiUEkiLCJiIiwiZyIsImxuZyIsImFzaW4iLCJzcXJ0Iiwic2luIiwiY29zIiwiZ2V0UGF0aCIsImxlbiIsImdldExlbmd0aCIsImRpc3QiLCJnZXRBdCIsIlVQREFURV9GUkVRIiwicnVuIiwiYWRkR3JhcGgiLCJ0aW1lIiwic3RhcnQiLCJzdHJva2VzIiwic3BlZWQiLCJ3YXR0Iiwic3Ryb2tlIiwic3Ryb2tlQ29udGVyIiwidGltZVZhbCIsInN0cm9rZVRpbWUiLCJzZWMiLCJsZW5naHQiLCJ3YXR0VmFsdWUiLCJ1dGlscyIsInNwZWVkTWVyZ2VkIiwiaHJNZXJnZWQiLCJ3YXR0TWVyZ2VkIiwic3Ryb2tlTWVyZ2VkIiwibGFiZWxzTWVyZ2VkIiwibWVyZ2VTaXplIiwiaCIsInNwbGljZSIsInRpbWVWIiwicmVkdWNlIiwibGFzdEluZGV4T2YiLCJwYXJzZUZsb2F0IiwidyIsImN0eCIsImxpbmVDaGFydERhdGEiLCJsYWJlbHMiLCJkYXRhc2V0cyIsImJvcmRlckNvbG9yIiwiYmFja2dyb3VuZENvbG9yIiwiZmlsbCIsInlBeGlzSUQiLCJsaW5lVGVuc2lvbiIsIkNoYXJ0IiwiTGluZSIsIm9wdGlvbnMiLCJyZXNwb25zaXZlIiwiaG92ZXJNb2RlIiwic3RhY2tlZCIsInNjYWxlcyIsInlBeGVzIiwiZGlzcGxheSIsImlkIiwidGlja3MiLCJzdWdnZXN0ZWRNaW4iLCJtaW4iLCJzdGVwU2l6ZSIsImdyaWRMaW5lcyIsImRyYXdPbkNoYXJ0QXJlYSIsImNyZWF0ZVJvdXRlUmVjb3JkIiwiaHRtbFRhYmxlIiwiaW5kZXgiLCJyb3V0ZSIsIm1ldGVycyIsImNvdW50cnkiLCJwZXJtYW5lbnQiLCJsb2FkUm91dGUiLCJtYWluSW5kZXgiLCJsb2FkIiwibG9hZFJvdXRlVGFibGUiLCJjcmVhdGVSb3V0ZU5hdlBhZ2UiLCJwYWdlIiwiaHRtbEVsZW1lbnQiLCJhZGRDbGFzcyIsInNpemUiLCJuZXh0RGlzYWJsZWQiLCJwcmV2IiwiYXBwZW5kIiwibmV4dCIsImFjdGl2ZSIsIml0ZW0iLCJodG1sIiwic3RvcCIsIm9uIiwibG9hZFJvdXRlRGV0YWlsIiwibWFwVXRpbHMiLCJ0YWJsZUZ1bmN0IiwiYWRkVG9UYWJsZSIsInN0cmF2YSIsImxvYWRSb3V0ZVN0YXRzIiwibG9hZFJvdXRlcyIsInRoYXQiLCJyZXN1bHQiLCJlbnRyaWVzIiwiZW50cnkiLCJhdGhsZXRlX25hbWUiLCJtb3ZpbmdfdGltZSIsInN0YXJ0X2RhdGUiLCJncm91cCIsInNvcnQiLCJzZWxlY3RlZCIsImVkaXRSb3V0ZSIsInByZXZlbnREZWZhdWx0IiwiZm9ybSIsInZhbCIsInNlZ21lbnRJZCIsImdwc0N2cyIsIkpTT04iLCJzdHJpbmdpZnkiLCJtb2RhbCIsInNob3dSb3V0ZU1vZGFsIiwicmVsYXRlZFRhcmdldCIsInNlZ2VtZW50SWQiLCJncHNMZW5naHQiLCJjaGFuZ2VSb3V0ZVNlbGVjdCIsImRlbGV0ZVJvdXRlIiwiY29uZmlybSIsInNhdmVSb3V0ZSIsImV2ZW50Iiwic3RyYXZhSWQiLCJjb250ZW50VHlwZSIsImRhdGFUeXBlIiwib3BlblJvdXRlIiwiaXNOYU4iLCJjbGlja1JvdXRlRGV0YWlsIiwibG9hZFVzZXJzIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJsb2FkVXNlciIsInVzZXIiLCJlZGl0VXNlciIsInJlcGxhY2UiLCJyZW1vdmVDbGFzcyIsInNhdmVVc2VyIiwiZGVsZXRlVXNlciIsImxvYWRIaXN0b3J5IiwiaHRtbENhcmRzIiwic2Vzc2lvbiIsImNyZWF0ZUNhcmQiLCJ0cmlnZ2VyIiwibG9hZEhpc3RvcnlMaXN0IiwidXNlcnMiLCJ1c2VyTWFwIiwib2JqIiwiY3JlYXRlTGFwVGFibGVSZWNvcmQiLCJjcmVhdGVIaXN0b3J5TmF2UGFnZSIsImVuZFN0YXRzIiwic2Vjb25kcyIsImxvYWRIaXN0b3J5SW5kZXgiLCJvcGVuSGlzdG9yeSIsImxvYWRTZXNzaW9uIiwiZnJvbnQiLCJnZXRIdG1sIiwiZ2V0TGFwSHRtbCIsImdyYXBoVXRpbHMiLCJyYXciLCJyYXdIciIsImpzb24iLCJyZXZlcnNlIiwidG90YWxMYXBzIiwibGFwTnVtIiwiY29uc29sZSIsImxvZyIsInRpbWVPdXQiLCJjbGlja1Nlc3Npb24iLCJkZWxldGVTZXNzaW9uIiwiYWxlcnQiLCJzZXRVc2VyQW5kUm91dGUiLCJyb3V0ZUlkIiwibG9hZE1haW4iLCJ3aGVuIiwiZG9uZSIsInJvd2luZyIsInN0YXR1cyIsInN0YXJ0QnV0dG9uIiwibG9hZE1hcCIsImhpZGUiLCJzY3JvbGxUb3AiLCJvZmZzZXQiLCJ0b3AiLCJyb3dJbmZvIiwiZ2V0X3Jvd0luZm8iLCJjb250aW51ZXMiLCJnbG9iYWxzIiwic2V0VGltZW91dCIsImRheSIsInBlcmNlbnQiLCJsYXBQYWNlIiwidG93S1BhY2UiLCJhdmdIciIsImZpbGVOYW1lIiwicm91dGVzIiwidXNlcklkIiwic2hvdyIsImNsZWFyVGltZW91dCIsInN0YXJ0Um93IiwicmVtb3ZlQXR0ciIsImhhc2giLCJocmVmIiwicGFyZW50Iiwic3RvcFJvdyIsInVwbG9hZFRvU3RyYXZhIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFRckIsRUFBb0JxQixJQUMvQixFQUFQRSxFQUFVLE9BQU9GLEVBQ3BCLEdBQVcsRUFBUEUsR0FBOEIsaUJBQVZGLEdBQXNCQSxHQUFTQSxFQUFNRyxXQUFZLE9BQU9ILEVBQ2hGLElBQUlJLEVBQUtYLE9BQU9ZLE9BQU8sTUFHdkIsR0FGQTFCLEVBQW9Ca0IsRUFBRU8sR0FDdEJYLE9BQU9DLGVBQWVVLEVBQUksVUFBVyxDQUFFVCxZQUFZLEVBQU1LLE1BQU9BLElBQ3RELEVBQVBFLEdBQTRCLGlCQUFURixFQUFtQixJQUFJLElBQUlNLEtBQU9OLEVBQU9yQixFQUFvQlUsRUFBRWUsRUFBSUUsRUFBSyxTQUFTQSxHQUFPLE9BQU9OLEVBQU1NLElBQVFDLEtBQUssS0FBTUQsSUFDOUksT0FBT0YsR0FJUnpCLEVBQW9CNkIsRUFBSSxTQUFTMUIsR0FDaEMsSUFBSVMsRUFBU1QsR0FBVUEsRUFBT3FCLFdBQzdCLFdBQXdCLE9BQU9yQixFQUFnQixTQUMvQyxXQUE4QixPQUFPQSxHQUV0QyxPQURBSCxFQUFvQlUsRUFBRUUsRUFBUSxJQUFLQSxHQUM1QkEsR0FJUlosRUFBb0JhLEVBQUksU0FBU2lCLEVBQVFDLEdBQVksT0FBT2pCLE9BQU9rQixVQUFVQyxlQUFlMUIsS0FBS3VCLEVBQVFDLElBR3pHL0IsRUFBb0JrQyxFQUFJLEdBSWpCbEMsRUFBb0JBLEVBQW9CbUMsRUFBSSxHLHNDQ2xGckQsTUFBTUMsRUFBYyxJQTRFTCxPQUFFQyxTQTFFakIsU0FBa0JDLEdBQ2QsT0FBT0YsRUFBY0csS0FBS0MsSUFBSUYsRUFBTSxJQXlFYkcsc0JBdEUzQixTQUErQjlCLEdBQzNCLE9BQU8rQixPQUFPL0IsRUFBS2dDLE1BQU0sRUFBRyxJQUFNLElBQU1oQyxFQUFLZ0MsTUFBTSxHQUFHLElBQU0sSUFBTWhDLEVBQUtnQyxNQUFNLEtBQUtDLE9BQU8sd0JBcUUzQ0Msa0JBbEVsRCxTQUEyQkMsR0FDdkIsT0FBSUEsRUFBSyxJQUNFLGVBQ0FBLEVBQUssSUFDTCxlQUNBQSxFQUFLLElBQ0wsZUFFQSxlQTBEc0RDLGdCQXREL0MsU0FBeUJDLEdBQzNDLElBRUlDLEVBQ0E3QyxFQUZBOEMsRUFEV0MsbUJBQW1CQyxPQUFPQyxTQUFTQyxPQUFPQyxVQUFVLElBQ3RDQyxNQUFNLEtBSW5DLElBQUtwRCxFQUFJLEVBQUdBLEVBQUk4QyxFQUFjTyxPQUFRckQsSUFHbEMsSUFGQTZDLEVBQWlCQyxFQUFjOUMsR0FBR29ELE1BQU0sTUFFckIsS0FBT1IsRUFDdEIsWUFBNkJVLElBQXRCVCxFQUFlLElBQTBCQSxFQUFlLElBNENXVSxPQXZDdEYsU0FBZ0J4QixHQUNaLElBQUl5QixFQUFPLElBQUlDLEtBQUssTUFFcEIsT0FEQUQsRUFBS0UsV0FBVzNCLEdBQ1R5QixFQUFLRyxjQUFjQyxPQUFPLEdBQUksSUFxQ3JDQyxZQTVCSixTQUFxQkMsR0FRakIsSUFMQSxJQUFJQyxFQUFlLEdBR2ZDLEdBRmNGLEVBQUlWLE1BQU0sS0FBSyxJQUFNLElBQ1osSUFDVkEsTUFBTSxLQUVkcEQsRUFBSSxFQUFHQSxFQUFJZ0UsRUFBS1gsT0FBUXJELElBQUssQ0FDbEMsSUFBSWlFLEVBQU9ELEVBQUtoRSxHQUFHb0QsTUFBTSxLQUd6QixRQUFxQyxJQUExQlcsRUFBYUUsRUFBSyxJQUN6QkYsRUFBYUUsRUFBSyxJQUFNbEIsbUJBQW1Ca0IsRUFBSyxTQUU3QyxHQUFxQyxpQkFBMUJGLEVBQWFFLEVBQUssSUFBa0IsQ0FDbEQsSUFBSUMsRUFBTSxDQUFDSCxFQUFhRSxFQUFLLElBQUtsQixtQkFBbUJrQixFQUFLLEtBQzFERixFQUFhRSxFQUFLLElBQU1DLE9BR3hCSCxFQUFhRSxFQUFLLElBQUlFLEtBQUtwQixtQkFBbUJrQixFQUFLLEtBSTNELE9BQU9GLElDbkVJLEdBQUVLLFdBTkEsR0FNWUMsYUFMekIsRUFLZ0MsZ0JBSmhDQyxFQUlnQyxRQUh0QixJQ0FkLE1BQU1DLEVBQVMsQ0FBQyxDQUNaLFlBQWUsWUFBYSxRQUFXLENBQUMsQ0FBRSxZQUFlLEtBQU8sQ0FBRSxVQUFhLElBQzNFLENBQUUsV0FBYyxRQUNyQixDQUNDLFlBQWUsTUFBTyxRQUFXLENBQUMsQ0FBRSxZQUFlLEtBQU8sQ0FBRSxVQUFhLElBQ3JFLENBQUUsV0FBYyxnQkFDckIsQ0FDQyxZQUFlLGVBQWdCLFFBQVcsQ0FBQyxDQUFFLFlBQWUsS0FDeEQsQ0FBRSxXQUFjLGdCQUNyQixDQUNDLFlBQWUsZ0JBQWlCLFFBQVcsQ0FBQyxDQUFFLFlBQWUsS0FDekQsQ0FBRSxVQUFhLElBQU0sQ0FBRSxXQUFjLFFBQzFDLENBQ0MsWUFBZSxhQUFjLFFBQVcsQ0FBQyxDQUFFLFlBQWUsS0FDdEQsQ0FBRSxVQUFhLElBQU0sQ0FBRSxXQUFjLFFBQzFDLENBQ0MsWUFBZSxVQUFXLFFBQVcsQ0FBQyxDQUFFLFlBQWUsS0FDbkQsQ0FBRSxXQUFjLGdCQUNyQixDQUFFLFlBQWUsMEJBQTJCLFFBQVcsQ0FBQyxDQUFFLFdBQWMsU0FDdkUsQ0FBRSxZQUFlLFFBQVMsWUFBZSxTQUFVLFFBQVcsQ0FBQyxDQUFFLFdBQWMsTUFBUSxDQUFFLFdBQWMsSUFBTSxDQUFFLFlBQWUsT0FDOUgsQ0FBRSxZQUFlLFFBQVMsWUFBZSxXQUFZLFFBQVcsQ0FBQyxDQUFFLElBQU8sV0FBYSxDQUFFLFdBQWMsSUFBTSxDQUFFLFlBQWUsT0FtQmxJLFNBQVNDLElBQ0wsSUFBSUMsRUFBU0MsU0FBU0MsZUFBZSxZQUNqQ0YsSUFDQUcsRUFBSVAsUUFBVSxJQUFJUSxPQUFPQyxLQUFLQyxJQUFJTixFQUFRLENBQ3RDTyxLQUFNLEVBQ05DLFFBQVMsS0FFYkwsRUFBSU4sV0FBYSxJQUFJTyxPQUFPQyxLQUFLSSxhQUNqQ04sRUFBSVAsUUFBUWMsSUFBSSxTQUFVWixJQUtsQyxTQUFTYSxFQUFlQyxHQUNwQixPQUFPLElBQUlSLE9BQU9DLEtBQUtRLFNBQVMsQ0FDNUJDLEtBQU1GLEVBQ05HLFlBQWEsVUFDYkMsY0FBZSxHQUNmQyxhQUFjLElBSXRCLElBb0NJQyxFQUFtQixTQUFVcEYsRUFBTXFGLEdBQ25DLElBQUloQixFQUFNLElBQUlDLE9BQU9DLEtBQUtDLElBQUlhLEVBQVEsR0FBSSxDQUN0Q1osS0FBTSxLQUVWLElBQUlhLEVBQVlDLEVBQU90RSxLQUFLLEtBQU1vRCxHQUM5QnJFLEdBQ0F3RixFQUFFQyxLQUFLLENBQ0hDLEtBQU0sTUFDTkMsSUFBSyxhQUFlM0YsRUFBTyxPQUMzQjRGLFFBQVNOLEtBZ0JyQixTQUFTQyxFQUFPbEIsRUFBS3dCLEdBQ2pCLElBQUlmLEVBQVMsR0FFYlQsRUFBSU8sSUFBSSxTQUFVWixHQUVsQixJQUFJOEIsRUFBUyxJQUFJeEIsT0FBT0MsS0FBS0ksYUFDekJvQixFQUFPLEVBQ1BDLEVBQVMsRUFDYlIsRUFBRUssR0FBS0ksS0FBSyxTQUFTQyxLQUFLLFdBQ3RCLElBQUlDLEVBQU1YLEVBQUVZLE1BQU1DLEtBQUssT0FDbkJDLEVBQU1kLEVBQUVZLE1BQU1DLEtBQUssT0FDbkI5RSxFQUFJLElBQUkrQyxPQUFPQyxLQUFLZ0MsT0FBT0osRUFBS0csR0FFcEN4QixFQUFPbEIsS0FBS3JDLEdBQ1osSUFBSWlGLEVBQUszQixFQUFlQyxHQUFRMkIsT0FDaENWLEVBQU9XLFNBQVNGLEVBQUssSUFBTyxFQUN4QlIsRUFBU0QsSUFDVFksRUFBVXBGLEVBQUcsV0FBYXdFLEVBQUssR0FBSWEsT0FBT2IsRUFBTyxHQUFJMUIsR0FDckQyQixLQUVKRixFQUFPZSxPQUFPdEYsS0FHUHNELEVBQWVDLEdBRXJCZ0MsT0FBT3pDLEdBR1pBLEVBQUkwQyxVQUFVakIsR0FTbEIsU0FBU2EsRUFBVXBGLEVBQUd5RixFQUFPQyxFQUFPbkQsRUFBUU8sRUFBSVAsU0FDNUNPLEVBQUk2QyxRQUFRdEQsS0FBSyxJQUFJVSxPQUFPQyxLQUFLNEMsT0FBTyxDQUNwQ0MsU0FBUzdGLEVBQ1Q4QyxJQUFLUCxFQUNMa0QsTUFBT0EsRUFDUEssTUFBT0osS0FJQSxPQUFFSyxTQWxKakIsU0FBa0JDLEdBQU8sR0FDakJBLEdBQ0F0RCxJQUdKSSxFQUFJUixXQUFhLEdBQ2pCUSxFQUFJNkMsUUFBVSxHQUNIckMsRUFBZVIsRUFBSVIsWUFDekJpRCxPQUFPekMsRUFBSVAsY0FHVyxJQUFoQk8sRUFBSVAsU0FBNEQsbUJBQTFCTyxFQUFJUCxRQUFRaUQsV0FDekQxQyxFQUFJUCxRQUFRaUQsVUFBVTFDLEVBQUlOLGFBc0lQRSxVQUFTRCxTQUFRd0QsbUJBM0duQixTQUFVeEgsRUFBTXFGLEdBQ2pDckYsR0FDQXdGLEVBQUVDLEtBQUssQ0FDSEMsS0FBTSxNQUNOQyxJQUFLLFdBQWEzRixFQUNsQjRGLFFBQVMsU0FBVTZCLEdBQ2YsSUFBSUMsRUFBTUQsRUFBS0MsSUFDWEMsRUFBYXRDLEVBQVEsR0FDckJQLEVBQVMsR0FDVFQsRUFBTSxJQUFJQyxPQUFPQyxLQUFLQyxJQUFJbUQsRUFBWSxDQUN0Q2xELEtBQU0sRUFDTkMsUUFBUyxLQUdiTCxFQUFJTyxJQUFJLFNBQVVaLEdBRWxCLElBQUk4QixFQUFTLElBQUl4QixPQUFPQyxLQUFLSSxhQUU3QitDLEVBQUlFLFFBQVEsU0FBVUMsR0FDbEIsSUFBSTFCLEVBQU0wQixFQUFNMUIsSUFDWkcsRUFBTXVCLEVBQU12QixJQUNaL0UsRUFBSSxJQUFJK0MsT0FBT0MsS0FBS2dDLE9BQU9KLEVBQUtHLEdBQ3BDeEIsRUFBT2xCLEtBQUtyQyxHQUNadUUsRUFBT2UsT0FBT3RGLEtBR1BzRCxFQUFlQyxHQUNyQmdDLE9BQU96QyxHQUdaQSxFQUFJMEMsVUFBVWpCLE9BNkVrQ1YsbUJBQWtCMEMsV0FmbEYsV0FDSSxJQUFJOUgsRUFBT3dGLEVBQUVZLE1BQU1xQixLQUFLLFFBQ3BCcEMsRUFBVUcsRUFBRVksTUFBTUgsS0FBSyxpQkFDM0JiLEVBQWlCcEYsRUFBTXFGLElBYXZCUixpQkFBZ0I4QixZQUFXb0IscUJBMURKLFNBQVVDLEdBQ2pDLElBQUkxQyxFQUFZQyxFQUFPdEUsS0FBSyxLQUFNb0QsRUFBSVAsU0FDdEMwQixFQUFFQyxLQUFLLENBQ0hDLEtBQU0sTUFDTkMsSUFBSyxVQUNMQyxRQUFTTixFQUNUMEMsU0FBVUEsTUMxR0gsT0FBRUMsWUFiakIsU0FBcUJqSSxFQUFNa0ksR0FDdkIxQyxFQUFFbEYsSUFBSSw2QkFBK0JOLEVBQU0sU0FBVXlILEdBQ2pEUyxFQUFTVCxNQVdhVSxRQVA5QixTQUFpQm5JLEVBQU1rSSxHQUNuQjFDLEVBQUVsRixJQUFJLGlCQUFtQk4sRUFBTSxTQUFVeUgsR0FDckNTLEVBQVNFLE1BQU1YLE9DVGhCLE1BQU1ZLEVBQVUsSUFBTSxNQUFTLEVBQ3pCQyxFQUFZLEdBSXpCaEUsT0FBT0MsS0FBS2dDLE9BQU9sRixVQUFVa0gsS0FBTyxTQUFTQyxHQUN6QyxJQUFJQyxFQUFJN0csS0FBTThHLEVBQUtELEVBQUVFLEdBQUcsSUFDcEJDLEVBQUl4QyxLQUFLRCxNQUFRdUMsRUFBSTVJLEVBQUkwSSxFQUFFckMsTUFBUXVDLEVBQUkzSSxFQUFJNkksRUFBSTlJLEVBQy9DK0ksRUFBSXpDLEtBQUswQyxNQUFRSixFQUFLRixFQUFFTSxNQUFRSixFQUdwQyxPQUFXLFVBRkgsRUFBSUQsRUFBRU0sS0FBS04sRUFBRU8sS0FBS1AsRUFBRTVHLElBQUk0RyxFQUFFUSxJQUFJbEosRUFBRSxHQUFJLEdBQUswSSxFQUFFUyxJQUFJTixHQUFLSCxFQUFFUyxJQUM3RHBKLEdBQUsySSxFQUFFNUcsSUFBSTRHLEVBQUVRLElBQUlKLEVBQUUsR0FBSSxPQUk1QnZFLE9BQU9DLEtBQUtRLFNBQVMxRCxVQUFVb0YsS0FBTyxTQUFTdkYsR0FFM0MsSUFEQSxJQUFJc0gsRUFBSXBDLEtBQUsrQyxRQUFRakksR0FBSWtJLEVBQU1aLEVBQUVhLFlBQWFDLEVBQU8sRUFDN0M3SixFQUFFLEVBQUdBLEVBQUUySixFQUFJLEVBQUczSixJQUNsQjZKLEdBQVFkLEVBQUVlLE1BQU05SixHQUFHOEksS0FBS0MsRUFBRWUsTUFBTTlKLEVBQUUsSUFFdEMsT0FBTzZKLEdBS0ksT0FBRWpCLFNBQVFDLFlBQVdrQixZQXRCVCxJQXNCc0JDLEtBckJoQyxHQ2dLRixPQUFFQyxTQWhLakIsU0FBa0JDLEVBQU14SCxFQUFJeUgsRUFBT0MsR0FLL0IsSUFKQSxJQUFJQyxFQUFRLEdBQ1JDLEVBQU8sR0FDUEMsRUFBUyxHQUNUQyxFQUFlLEVBQ1Z4SyxFQUFJLEVBQUdBLEVBQUlrSyxFQUFLN0csT0FBUXJELElBQUssQ0FDbEMsSUFBSXlLLEVBQVV4RCxTQUFTaUQsRUFBS2xLLElBQ3hCMEssRUFBYXpELFNBQVNtRCxFQUFRSSxJQUM5QkcsR0FBUUYsRUFBVU4sR0FBUyxJQUMzQlMsRUFBVWhDLEVBQVMsSUFDdkJ5QixFQUFNbEcsS0FBT3lHLEVBQVNELEVBQVEsS0FDOUIsSUFBSUUsRUFBWUMsRUFBTTdJLFNBQVMwSSxFQUFNQyxHQUNyQ04sRUFBS25HLEtBQUswRyxHQUNWTixFQUFPcEcsS0FBSyxLQUFXdUcsRUFBYXpELFNBQVNtRCxFQUFRSSxFQUFhLE1BQ2xFTCxFQUFRbEQsU0FBU2lELEVBQUtsSyxJQUNsQnlLLEVBQVVDLEdBQ1ZGLElBS1IsSUFBSU8sRUFBYyxHQUNkQyxFQUFXLEdBQ1hDLEVBQWEsR0FDYkMsRUFBZSxHQUNmQyxFQUFlLEdBQ2ZDLEVBQVksR0FLaEIsSUFKSWxCLEVBQUs3RyxPQUFTLE1BQ2QrSCxFQUFZLElBR1RsQixFQUFLN0csUUFBUSxDQUNoQixJQVVRZ0ksRUFWSnRDLEVBQUltQixFQUFLb0IsT0FBTyxFQUFHRixHQUNuQkcsRUFBUXRFLFNBQVM4QixFQUFFeUMsT0FBTyxTQUFVekMsRUFBR0ksR0FBSyxPQUFPSixFQUFJSSxJQUFRSixFQUFFMUYsUUFFckUsR0FEQThILEVBQWFoSCxLQUFLLElBQUlWLEtBQUs4SCxHQUFPNUgsY0FBY0MsT0FBTyxJQUFJSCxLQUFLOEgsR0FBTzVILGNBQWM4SCxZQUFZLEtBQU8sRUFBRyxJQUN2Ry9JLEdBQ0kySSxFQUFJM0ksRUFBRzRJLE9BQU8sRUFBR0YsSUFDZi9ILE9BQVMsR0FDWDJILEVBQVM3RyxLQUFLOEMsU0FBU29FLEVBQUVHLE9BQU8sU0FBVXpDLEVBQUdJLEdBQUssT0FBT0osRUFBSUksSUFBUWtDLEVBQUVoSSxTQUcvRSxHQUFJa0gsR0FDSWMsRUFBSWQsRUFBT2UsT0FBTyxFQUFHRixJQUNuQi9ILE9BQVMsR0FDWDZILEVBQWEvRyxLQUFLaEMsS0FBS3FGLE1BQTJFLEdBQXJFa0UsV0FBV0wsRUFBRUcsT0FBTyxTQUFVekMsRUFBR0ksR0FBSyxPQUFPSixFQUFJSSxJQUFRa0MsRUFBRWhJLFNBQWdCLElBR2hILEdBQUlnSCxFQUFPLENBQ1AsSUFBSXRJLEVBQUlzSSxFQUFNaUIsT0FBTyxFQUFHRixHQUNwQk8sRUFBSXJCLEVBQUtnQixPQUFPLEVBQUdGLEdBQ25CckosRUFBRXNCLE9BQVMsR0FDWDBILEVBQVk1RyxLQUFLaEMsS0FBS3FGLE1BQTJFLEdBQXJFa0UsV0FBVzNKLEVBQUV5SixPQUFPLFNBQVV6QyxFQUFHSSxHQUFLLE9BQU9KLEVBQUlJLElBQVFwSCxFQUFFc0IsU0FBZ0IsSUFFdkdzSSxFQUFFdEksT0FBUyxHQUNYNEgsRUFBVzlHLEtBQUtoQyxLQUFLcUYsTUFBMkUsR0FBckVrRSxXQUFXQyxFQUFFSCxPQUFPLFNBQVV6QyxFQUFHSSxHQUFLLE9BQU9KLEVBQUlJLElBQVF3QyxFQUFFdEksU0FBZ0IsS0FLbEgsSUFBSXVJLEVBQU03RixFQUFFLGFBQ1I4RixFQUFnQixDQUNoQkMsT0FBUVgsRUFDUlksU0FBVSxDQUFDLENBQ1BuRSxNQUFPLG1CQUNQb0UsWUFBYSxVQUNiQyxnQkFBaUIsVUFDakJDLE1BQU0sRUFDTmxFLEtBQU1nRCxFQUVObUIsUUFBUyxZQUNWLENBQ0N2RSxNQUFPLGVBQ1BvRSxZQUFhLFVBQ2JDLGdCQUFpQixVQUNqQkMsTUFBTSxFQUNObEUsS0FBTStDLEVBRU5vQixRQUFTLFlBRVQsQ0FDSXZFLE1BQU8sT0FDUG9FLFlBQWEsVUFDYkMsZ0JBQWlCLFVBQ2pCQyxNQUFNLEVBQ05sRSxLQUFNaUQsRUFDTm1CLFlBQWEsRUFFYkQsUUFBUyxZQUViLENBQ0l2RSxNQUFPLG9CQUNQb0UsWUFBYSxVQUNiQyxnQkFBaUIsVUFDakJDLE1BQU0sRUFDTmxFLEtBQU1rRCxFQUNOaUIsUUFBUyxjQUdIRSxNQUFNQyxLQUFLVixFQUFLLENBQzlCNUQsS0FBTTZELEVBQ05VLFFBQVMsQ0FDTEMsWUFBWSxFQUNaQyxVQUFXLFFBQ1hDLFNBQVMsRUFDVEMsT0FBUSxDQUNKQyxNQUFPLENBQUMsQ0FDSjNHLEtBQU0sU0FDTjRHLFNBQVMsRUFDVGxGLFNBQVUsT0FDVm1GLEdBQUksV0FDSkMsTUFBTyxDQUNIQyxhQUFjLEdBQ2RDLElBQUssRUFDTEMsU0FBVSxJQUVmLENBQ0NqSCxLQUFNLFNBQ040RyxTQUFTLEVBQ1RsRixTQUFVLFFBQ1ZtRixHQUFJLFdBQ0pDLE1BQU8sQ0FDSEcsU0FBVSxHQUdkQyxVQUFXLENBQ1BDLGlCQUFpQixJQUdyQixDQUNJbkgsS0FBTSxTQUNONEcsU0FBUyxFQUNUbEYsU0FBVSxRQUNWbUYsR0FBSSxXQUNKQyxNQUFPLENBQ0hHLFNBQVUsSUFHZEMsVUFBVyxDQUNQQyxpQkFBaUIsSUFHekIsQ0FDSW5ILEtBQU0sU0FDTjRHLFNBQVMsRUFDVGxGLFNBQVUsUUFDVm1GLEdBQUksV0FDSkMsTUFBTyxDQUNIRyxTQUFVLEVBQ1ZGLGFBQWMsSUFHbEJHLFVBQVcsQ0FDUEMsaUJBQWlCLFdDNUh6Q0MsRUFBb0IsU0FBVUMsRUFBV0MsRUFBT0MsR0FnQmhELE9BZkFGLEdBQWEsT0FDYkEsR0FBYSxvQkFBc0JDLEVBQVEsR0FBSyxRQUVoREQsR0FBYSxnREFBa0RFLEVBQU1qTixLQUFPLGtCQUFtQmlOLEVBQU1qTixLQUFNLGlCQUFtQmlOLEVBQU1qTixLQUFPLFlBQzNJK00sR0FBYSxPQUFTckcsU0FBU3VHLEVBQU1DLFFBQVUsU0FDL0NILEdBQWEsT0FBU0UsRUFBTUUsUUFBVSxRQUN0Q0osR0FBYSxRQUNXLElBQXBCRSxFQUFNRyxVQUNOTCxHQUFhLDJDQUE2Q0UsRUFBTWpOLEtBQU8sb0ZBQ3ZCaU4sRUFBTWpOLEtBQU8sMEZBRzdEK00sR0FBYSxpQkFFakJBLEdBQWEsU0FJakIsU0FBU00sRUFBVUMsR0FDZjlILEVBQUUsU0FBUytILEtBQUssU0FBVSxXQUN0Qi9ILEVBQUVZLE1BQU1ILEtBQUssYUFBYUMsS0FBSyxXQUMzQnNILEVBQWUsR0FFZkMsRUFEVWpJLEVBQUUsaUJBQWlCUyxLQUFLLFNBQ1gsR0FBSXFILE9BS3ZDLFNBQVNHLEVBQW1CQyxFQUFNVixHQUM5QixJQUFJVyxFQUFjbkksRUFBRSxtQ0FBcUN3SCxFQUFRLFdBQVdZLFNBQVMsNEJBQ3JGcEksRUFBRWxGLElBQUksY0FBZSxTQUFVbUgsR0FDM0IsSUFBSW9HLEVBQU9uSCxTQUFTQSxTQUFTZSxHQUFRYSxHQUFhLEVBRTlDd0YsRUFBZ0JkLElBQVVhLEVBQU8sRUFBSSxXQUFhLEdBQ2xERSxFQUFPdkksRUFBRSx5QkFGaUIsSUFBVndILEVBQWMsV0FBYSxJQUVPLFdBQVdnQixPQUFPLDJFQUNwRUMsRUFBT3pJLEVBQUUsd0JBQTBCc0ksRUFBZSxXQUFXRSxPQUFPLHdEQUV4RUwsRUFBWUssT0FBT0QsR0FDbkIsSUFBSyxJQUFJdE8sRUFBSSxFQUFHQSxFQUFJb08sRUFBTXBPLElBQUssQ0FDM0IsSUFBSXlPLEVBQVMsR0FDVGxCLElBQVV2TixJQUNWeU8sRUFBUyxVQUViLElBQUlDLEVBQU8zSSxFQUFFLHdCQUEwQjBJLEVBQVMsc0NBQXdDek8sRUFBSSxlQUFpQkEsRUFBSSxHQUFLLGFBQ3RIa08sRUFBWUssT0FBT0csR0FFdkJSLEVBQVlLLE9BQU9DLEdBQ25CekksRUFBRWtJLEdBQU1VLEtBQUtULEtBSXJCLFNBQVNILEVBQWVGLEdBQ3BCLElBQUkxRCxFQUFRMEQsRUFBWWhGLEVBQVcrRixHQUFVZixFQUFZLEdBQUtoRixFQUFjLEVBQzVFOUMsRUFBRWxGLElBQUksV0FBYXNKLEVBQVEsSUFBTXlFLEVBQU0sU0FBVTVHLEdBQzdDLElBQUlzRixFQUFZLEdBQ1pDLEVBQVEsRUFDWnZGLEVBQUtHLFFBQVEsU0FBVXFGLEdBQ25CRixFQUFZRCxFQUFrQkMsRUFBV0MsRUFBU00sRUFBWWhGLEVBQVkyRSxHQUMxRUQsTUFHSnhILEVBQUUsc0JBQXNCNEksS0FBS3JCLEdBQzdCdkgsRUFBRSxvQkFBb0I4SSxHQUFHLGtCQUFtQixTQUFVN0YsR0FDbEQ0RSxFQUFVLE9Bb0Z0QixTQUFTa0IsRUFBZ0J2TyxHQUNyQndGLEVBQUUsU0FBUytILEtBQUssaUJBQWtCLFdBQzlCaUIsRUFBU2xILFdBQ1QsSUFBSW1ILEVBQWFDLEVBQVd6TixLQUFLdUUsRUFBRVksTUFBTUgsS0FBSyxtQkFDOUMwSSxFQUFPMUcsWUFBWWpJLEVBQU15TyxHQUN6QkQsRUFBU2hILG1CQUFtQnhILEVBQU13RixFQUFFLGNBQ3BDQSxFQUFFWSxNQUFNSCxLQUFLLGdCQUFnQkMsS0FBSzBJLEVBQWUzTixLQUFLLEtBQVFqQixJQUM5RHdGLEVBQUVZLE1BQU1ILEtBQUssa0JBQWtCQyxLQUFLK0csTUFBTTRCLGNBS2xELFNBQVNELEVBQWU1TyxHQUNwQixJQUFJOE8sRUFBTzFJLEtBQ1haLEVBQUVDLEtBQUssQ0FDSEUsSUFBSyxXQUFhM0YsRUFDbEIwRixLQUFNLE1BQ05FLFFBQVMsU0FBVW1KLEdBQ2YsSUFBSVgsRUFBTywwRUFDWEEsR0FBUSxtRUFBcUVXLEVBQU8vTyxLQUFNLGtEQUMxRm9PLEdBQVEsbUVBQXFFVyxFQUFPN0IsT0FBUSx3REFDNUZrQixHQUFRLG1FQUFxRVcsRUFBTzVCLFFBQVMscURBQzdGaUIsR0FBUSxxQkFDUjVJLEVBQUVzSixHQUFNN0ksS0FBSyxnQkFBZ0JtSSxLQUFLQSxNQUs5QyxTQUFTTSxFQUFXakgsR0FDaEIsSUFBSTJHLEVBQU8sR0FDUDNHLEVBQUt1SCxTQUNMdkgsRUFBS3VILFFBQVFwSCxRQUFRLFNBQVNxSCxHQUN0QmIsR0FBUSx5QkFBMkJhLEVBQU1DLGFBQWUsY0FBZ0IzRSxFQUFNdkgsT0FBTzBELFNBQVN1SSxFQUFNRSxjQUFnQixhQUFlRixFQUFNRyxXQUFZLGVBR2pLaEosS0FBS2dJLEtBQUtBLEdBaUJkLElBTWUsR0FBRVMsV0FyT0EsV0FDYixJQUFJQyxFQUFPMUksS0FDWFosRUFBRWxGLElBQUksY0FBZSxTQUFVbUgsR0FDM0IsSUFBSTJHLEVBQU8sR0FFUGlCLEVBQVEsR0FDWjVILEVBQUs2SCxLQUFLLFNBQVU5RyxFQUFHSSxHQUFLLE9BQVFKLEVBQUUyRSxRQUFVdkUsRUFBRXVFLFFBQVcsRUFBTXZFLEVBQUV1RSxRQUFVM0UsRUFBRTJFLFNBQVksRUFBSSxJQUVqRyxJQUFJb0MsRUFBVyxzQkFDZjlILEVBQUtHLFFBQVEsU0FBVWxILEdBQ2ZBLEVBQU15TSxVQUFZa0MsSUFDbEJqQixHQUFRLG9CQUFzQjFOLEVBQU15TSxRQUFVLEtBQzlDa0MsRUFBUTNPLEVBQU15TSxTQUVsQmlCLEdBQVEsV0FBYW1CLEVBQVcsV0FBYTdPLEVBQU1zTSxNQUFRLGdCQUFrQnRNLEVBQU1WLEtBQU8sZUFDdEZVLEVBQU1nSCxJQUFJLEdBQUd2QixJQUFNLGVBQWlCekYsRUFBTWdILElBQUksR0FBR3BCLElBQU0sS0FBTzVGLEVBQU1WLEtBQU8sS0FBT1UsRUFBTXdNLE9BQVMsY0FDckdxQyxFQUFXLEdBQ1h2QyxJQUVKeEgsRUFBRXNKLEdBQU1WLEtBQUtBLE1Ba05RdEIsb0JBQW1CTyxZQUFXRyxpQkFDdERDLHFCQUFvQitCLFVBMUl6QixTQUFtQi9HLEdBQ2ZBLEVBQUVnSCxpQkFDRixJQUFJbEQsRUFBSy9HLEVBQUVZLE1BQU1xQixLQUFLLE1BQ3RCakMsRUFBRUMsS0FBSyxDQUNIRSxJQUFLLFdBQWE0RyxFQUNsQjdHLEtBQU0sTUFDTkUsUUFBUyxTQUFVbUosR0FDZixJQUFJVyxFQUFPbEssRUFBRSxhQUNia0ssRUFBS3pKLEtBQUssU0FBUzBKLElBQUlaLEVBQU8vTyxNQUM5QjBQLEVBQUt6SixLQUFLLFdBQVcwSixJQUFJWixFQUFPN0IsUUFDaEN3QyxFQUFLekosS0FBSyxjQUFjMEosSUFBSVosRUFBT2EsV0FDbkNGLEVBQUt6SixLQUFLLGNBQWMwSixJQUFJWixFQUFPNUIsU0FFbkMsSUFBSTBDLEVBQVNDLEtBQUtDLFVBQVVoQixFQUFPckgsS0FDbkNnSSxFQUFLekosS0FBSyxRQUFRK0gsT0FBTzZCLEdBQ3pCckssRUFBRSxvQkFBb0J3SyxNQUFNLFlBMkhKQyxlQXRIcEMsU0FBd0J4SCxHQUNwQixJQUFJekksRUFBT3dGLEVBQUVpRCxFQUFFeUgsZUFBZXpJLEtBQUssY0FDL0JxSCxFQUFPdEosRUFBRVksTUFDYlosRUFBRWxGLElBQUksV0FBYU4sRUFBTSxTQUFVeUgsR0FDL0IsSUFBSVQsRUFBUVMsRUFBS3pILEtBQ2J5SCxFQUFLMEksYUFDTG5KLEVBQVEsbUZBQXFGUyxFQUFLMEksV0FBYSxpQ0FBbUNuSixFQUFRLFNBRTlKOEgsRUFBSzdJLEtBQUssMkJBQTJCbUksS0FBS3BILEdBQzFDLElBQUlvSCxFQUFPLDBFQUE0RTNHLEVBQUt5RixPQUFTLFVBQ3JHa0IsR0FBUSxzRUFBd0UzRyxFQUFLMkksVUFBWSxVQUNqR2hDLEdBQVEsbUVBQXFFM0csRUFBSzBGLFFBQVUsUUFDNUYyQixFQUFLN0ksS0FBSyxxQkFBcUJtSSxLQUFLQSxNQTBHUWlDLGtCQXRHcEQsV0FDSSxJQUFJZCxFQUFXL0osRUFBRSxXQUFXUyxLQUFLLGFBQ2pDdUksRUFBU2xILFdBQ1QsSUFBSXRILEVBQU91UCxFQUFTOUgsS0FBSyxRQUN6QitHLEVBQVNoSCxtQkFBbUJ4SCxFQUFNd0YsRUFBRSxlQWtHK0I4SyxZQS9GdkUsU0FBcUI3SCxHQUNqQkEsRUFBRWdILGlCQUNGLElBQUlsRCxFQUFLL0csRUFBRVksTUFBTXFCLEtBQUssTUFDVDhJLFFBQVEsMkNBRWpCL0ssRUFBRUMsS0FBSyxDQUNIRSxJQUFLLFdBQWE0RyxFQUNsQjdHLEtBQU0sU0FDTkUsUUFBUyxTQUFVbUosR0FDZjlCLE1BQU1JLFVBQVUsT0F1RmhDbUQsVUFqRkEsU0FBbUJDLEdBQ2ZBLEVBQU1oQixpQkFDTixJQUFJQyxFQUFPbEssRUFBRSxhQUNUeUgsRUFBUSxHQUNaQSxFQUFNak4sS0FBTzBQLEVBQUt6SixLQUFLLFNBQVMwSixNQUNoQzFDLEVBQU1DLE9BQVN3QyxFQUFLekosS0FBSyxXQUFXMEosTUFDcEMxQyxFQUFNeUQsU0FBV2hCLEVBQUt6SixLQUFLLGNBQWMwSixNQUN6QzFDLEVBQU1FLFFBQVV1QyxFQUFLekosS0FBSyxjQUFjMEosTUFDeEMxQyxFQUFNdkYsSUFBTWdJLEVBQUt6SixLQUFLLFlBQVkwSixNQUNsQ25LLEVBQUVDLEtBQUssQ0FDSEMsS0FBTSxNQUNOaUwsWUFBYSxtQkFDYkMsU0FBVSxPQUNWakwsSUFBSyxjQUNMOEIsS0FBTXFJLEtBQUtDLFVBQVU5QyxHQUNyQnJILFFBQVMsV0FDTEosRUFBRSxvQkFBb0J3SyxNQUFNLFlBaUU3QmEsVUF0QlgsU0FBbUJwSSxHQUNmQSxFQUFFZ0gsaUJBQ0YsSUFBSXhCLEVBQU92SCxTQUFTbEIsRUFBRVksTUFBTXFCLEtBQUssU0FBVXVGLEVBQVF0RyxTQUFTbEIsRUFBRVksTUFBTXFCLEtBQUssVUFDckU2RixFQUFZNUcsU0FBU2xCLEVBQUUsZUFBZWlDLEtBQUssVUFDMUNxSixNQUFNN0MsR0FFQzZDLE1BQU05RCxLQUNkTSxFQUFZTixHQUZaTSxHQUFhVyxFQUtqQlIsRUFEVWpJLEVBQUUsaUJBQWlCUyxLQUFLLFNBQ1gsR0FBSXFILEdBQzNCRSxFQUFlRixJQVdHaUIsa0JBQWlCd0MsaUJBUmhCLFNBQVV0SSxHQUM3QkEsRUFBRWdILGlCQUVGbEIsRUFEVy9JLEVBQUVZLE1BQU1xQixLQUFLLGlCQzVJYixPQUFFdUosVUE1RkQsV0FDWixJQUFJbEMsRUFBTzFJLEtBQ1haLEVBQUVsRixJQUFJLFNBQVUsU0FBVW1ILEdBQ3RCLElBQUkyRyxFQUFPLEdBQ1gzRyxFQUFLRyxRQUFRLFNBQVVsSCxHQUNuQjBOLEdBQVEsa0JBQW9CMU4sRUFBTTZMLEdBQUssS0FBTzdMLEVBQU11USxVQUFZLElBQU12USxFQUFNd1EsU0FBVyxjQUUzRjFMLEVBQUVzSixHQUFNVixLQUFLQSxNQXFGTytDLFNBM0Q1QixTQUFTQSxJQUNMM0wsRUFBRSxTQUFTK0gsS0FBSyxRQUFTLFdBQ3JCL0gsRUFBRVksTUFBTUgsS0FBSyxlQUFlQyxLQUFLLFdBQzdCLElBQUk0SSxFQUFPMUksS0FDWFosRUFBRWxGLElBQUksVUFBVyxTQUFVbUgsR0FFdkIsSUFEQSxJQUFJMkcsRUFBTyxHQUNGM08sRUFBSSxFQUFHQSxFQUFJZ0ksRUFBSzNFLE9BQVFyRCxJQUFLLENBQ2xDLElBQUkyUixFQUFPM0osRUFBS2hJLEdBQ2hCMk8sR0FBUSxrRkFBb0ZnRCxFQUFLN0UsR0FBSyxNQUFROU0sRUFBSSxHQUFLLGdCQUFrQjJSLEVBQUtILFVBQVksWUFBY0csRUFBS0YsU0FBVyxRQUN4TDlDLEdBQVEsOENBQWdEZ0QsRUFBSzdFLEdBQUssbUZBQXFGNkUsRUFBSzdFLEdBQUssOEZBRXJLL0csRUFBRXNKLEdBQU1WLEtBQUtBLEdBQ2I1SSxFQUFFLGlCQUFpQjhJLEdBQUcsa0JBQW1CLFNBQVU3RixHQUMvQzBJLGFBOENrQkUsU0FqRnRDLFNBQWtCNUksR0FDZEEsRUFBRWdILGlCQUNGLElBQUlsRCxFQUFLL0csRUFBRVksTUFBTXFCLEtBQUssTUFDdEJqQyxFQUFFQyxLQUFLLENBQ0hFLElBQUssVUFBWTRHLEVBQ2pCN0csS0FBTSxNQUNORSxRQUFTLFNBQVVtSixHQUNmLElBQUlXLEVBQU9sSyxFQUFFLGdCQUNia0ssRUFBS3pKLEtBQUssY0FBYzBKLElBQUlaLEVBQU9rQyxXQUNuQ3ZCLEVBQUt6SixLQUFLLGFBQWEwSixJQUFJWixFQUFPbUMsVUFDbEN4QixFQUFLekosS0FBSyxXQUFXMEosSUFBSVosRUFBT3hDLElBQ2hDL0csRUFBRWxGLElBQUksY0FBZSxTQUFVbUgsR0FDM0IsSUFBSTlCLEVBQU04QixFQUFLOUIsSUFBSTJMLFFBQVEsTUFBT3ZDLEVBQU94QyxJQUN6Qy9HLEVBQUUsZUFBZWEsS0FBSyxPQUFRVixLQUVwQkgsRUFBRSxtQkFDUitMLFlBQVksV0FDcEIvTCxFQUFFLGlCQUFpQndLLE1BQU0sWUFnRVd3QixTQXZDaEQsU0FBa0JmLEdBQ2RBLEVBQU1oQixpQkFDTixJQUFJQyxFQUFPbEssRUFBRSxnQkFDVHlMLEVBQVl2QixFQUFLekosS0FBSyxjQUFjMEosTUFDcEN1QixFQUFXeEIsRUFBS3pKLEtBQUssYUFBYTBKLE1BQ2xDcEQsRUFBS21ELEVBQUt6SixLQUFLLFdBQVcwSixNQUMxQnlCLEVBQU8sR0FDWEEsRUFBS0gsVUFBWUEsRUFDakJHLEVBQUtGLFNBQVdBLEVBQ2hCRSxFQUFLN0UsR0FBS0EsRUFDVi9HLEVBQUVDLEtBQUssQ0FDSEMsS0FBTSxNQUNOaUwsWUFBYSxtQkFDYkMsU0FBVSxPQUNWakwsSUFBSyxhQUNMOEIsS0FBTXFJLEtBQUtDLFVBQVVxQixHQUNyQnhMLFFBQVMsV0FDTEosRUFBRSxpQkFBaUJ3SyxNQUFNLFlBc0JxQnlCLFdBaEIxRCxTQUFvQmhKLEdBQ2hCQSxFQUFFZ0gsaUJBQ0YsSUFBSWxELEVBQUsvRyxFQUFFWSxNQUFNcUIsS0FBSyxNQUNUOEksUUFBUSxxQ0FFakIvSyxFQUFFQyxLQUFLLENBQ0hFLElBQUssVUFBWTRHLEVBQ2pCN0csS0FBTSxTQUNORSxRQUFTLFNBQVVtSixHQUNmcUMsS0FBS0QsZ0JDOUVyQixTQUFTTyxFQUFZcEUsR0FDakI5SCxFQUFFLFNBQVMrSCxLQUFLLFdBQVksV0FDeEIvSCxFQUFFWSxNQUFNSCxLQUFLLFlBQVlDLEtBQUssV0FRbENWLEVBQUVsRixJQUFJLGVBQTJCLFNBQVVtSCxHQUN2QyxJQUFJa0ssRUFBWSxHQUNoQmxLLEVBQUtHLFFBQVEsU0FBVWdLLEdBQ25CRCxFQUFZRSxFQUFXRixFQUFXQyxLQUd0Q3BNLEVBQUUsVUFBVTRJLEtBQUssMkNBQTZDdUQsRUFBWSxnQkFDMUVuTSxFQUFFLGNBQWNVLEtBQUssV0FDakJWLEVBQUVZLE1BQU0wTCxRQUFRLFdBQVkxTCxVQWQ1QjJMLEVBQWdCdk0sRUFBRVksTUFBT2tILE9BbUJyQyxTQUFTeUUsRUFBZ0JqRCxFQUFNeEIsR0FDM0IsSUFBSTFELEVBQVEwRCxFQUFZaEYsRUFBVytGLEdBQVVmLEVBQVksR0FBS2hGLEVBQWMsRUFDNUU5QyxFQUFFbEYsSUFBSSxZQUFjc0osRUFBUSxJQUFNeUUsRUFBTSxTQUFVNUcsR0FDOUNqQyxFQUFFbEYsSUFBSSxTQUFVLFNBQVUwUixHQUN0QixJQUFJakYsRUFBWSxHQUFJQyxFQUFRLEVBQ3hCaUYsRUFBVUQsRUFBTS9HLE9BQU8sU0FBUzVHLEVBQUs2TixHQUVyQyxPQURBN04sRUFBSTZOLEVBQUkzRixJQUFNMkYsRUFDUDdOLEdBQ1IsSUFDSG9ELEVBQUtHLFFBQVEsU0FBVWdLLEdBQ25CN0UsRUFBWW9GLEVBQXFCcEYsRUFBV0MsRUFBU00sRUFBWWhGLEVBQVlzSixFQUFTSyxHQUN0RmpGLE1BR0p4SCxFQUFFLHNCQUFzQjRJLEtBQUtyQixHQWtEekMsU0FBOEJXLEVBQU1WLEdBQ2hDLElBQUlXLEVBQWNuSSxFQUFFLHFDQUF1Q3dILEVBQVEsV0FBV1ksU0FBUyw0QkFDdkZwSSxFQUFFbEYsSUFBSSxlQUFnQixTQUFVbUgsR0FDNUIsSUFBSW9HLEVBQU9uSCxTQUFTQSxTQUFTZSxHQUFRYSxHQUFhLEVBRTlDd0YsRUFBZ0JkLElBQVVhLEVBQU8sRUFBSSxXQUFhLEdBQ2xERSxFQUFPdkksRUFBRSx5QkFGaUIsSUFBVndILEVBQWMsV0FBYSxJQUVPLFdBQVdnQixPQUFPLDJFQUNwRUMsRUFBT3pJLEVBQUUsd0JBQTBCc0ksRUFBZSxXQUFXRSxPQUFPLHdEQUV4RUwsRUFBWUssT0FBT0QsR0FDbkIsSUFBSyxJQUFJdE8sRUFBSSxFQUFHQSxFQUFJb08sRUFBTXBPLElBQUssQ0FDM0IsSUFBSXlPLEVBQVMsR0FDVGxCLElBQVV2TixJQUNWeU8sRUFBUyxVQUViLElBQUlDLEVBQU8zSSxFQUFFLHdCQUEwQjBJLEVBQVMsc0NBQXdDek8sRUFBSSxlQUFpQkEsRUFBSSxHQUFLLGFBQ3RIa08sRUFBWUssT0FBT0csR0FFdkJSLEVBQVlLLE9BQU9DLEdBQ25CekksRUFBRWtJLEdBQU1VLEtBQUtULEtBbkVUeUUsQ0FEVXRELEVBQUs3SSxLQUFLLFNBQ01xSCxPQWtCdEMsSUFBSXVFLEVBQWEsU0FBVUYsRUFBV0MsR0FTbEMsT0FSQUQsR0FBYSwwQ0FBNENDLEVBQVE1UixLQUFPLE1BQ3hFMlIsR0FBYSwwQkFDYkEsR0FBYSxvQ0FDYkEsR0FBYSw4REFBZ0VDLEVBQVE1UixLQUFPLHFCQUF1QnVLLEVBQU16SSxzQkFBc0I4UCxFQUFRNVIsTUFBUSxZQUMvSjJSLEdBQWEsZ0NBQWtDakwsU0FBU2tMLEVBQVFTLFNBQVNuRixRQUFVLFlBQWMzQyxFQUFNdkgsT0FBTzBELFNBQVNrTCxFQUFRUyxTQUFTQyxVQUFZLE9BQ3BKWCxHQUFhLDJCQUE2QkMsRUFBUTVSLEtBQU8sa0VBQ3pEMlIsR0FBYSxTQUNiQSxHQUFhLFVBSWJRLEVBQXVCLFNBQVVwRixFQUFXQyxFQUFPNEUsRUFBU0ssR0FDNUQsSUFBSWIsRUFBT2EsRUFBUUwsRUFBUVIsTUFjM0IsT0FiQXJFLEdBQWEsT0FDYkEsR0FBYSxvQkFBc0JDLEVBQVEsR0FBSyxRQUNoREQsR0FBYSxzQ0FBd0M2RSxFQUFRNVIsS0FBTyxrQkFBa0I0UixFQUFRNVIsS0FBSyxhQUFldUssRUFBTXpJLHNCQUFzQjhQLEVBQVE1UixNQUFRLFlBQzlKK00sR0FBYSxlQUFpQnJHLFNBQVNrTCxFQUFRUyxTQUFTbkYsUUFBVSxTQUU5REgsR0FEQXFFLEVBQ2EsT0FBU0EsRUFBS0gsVUFBWSxJQUFNRyxFQUFLRixTQUFXLFFBRWhELFlBRWpCbkUsR0FBYSwyQkFBNkI2RSxFQUFRNVIsS0FBTyxpR0FBbUc0UixFQUFRNVIsS0FBTyw2SkFDVjRSLEVBQVE1UixLQUFPLHdHQUVoTCtNLEdBQWEsU0E0QkYsT0FBRXdGLGlCQW5IakIsU0FBMEJ2RixHQUN0QjBFLEVBQVkxRSxJQWtIbUIwRSxjQUFhSyxrQkFBaUJTLFlBbkVqRSxTQUFxQi9KLEdBQ2pCQSxFQUFFZ0gsaUJBQ0YsSUFBSXhCLEVBQU92SCxTQUFTbEIsRUFBRVksTUFBTXFCLEtBQUssU0FBVXVGLEVBQVF0RyxTQUFTbEIsRUFBRVksTUFBTXFCLEtBQUssVUFDckU2RixFQUFZNUcsU0FBU2xCLEVBQUUsaUJBQWlCaUMsS0FBSyxVQUM1Q3FKLE1BQU03QyxHQUVDNkMsTUFBTTlELEtBQ2RNLEVBQVlOLEdBRlpNLEdBQWFXLEVBSWpCOEQsRUFBZ0J2TSxFQUFFLGtCQUFtQjhILEtDbER6QyxTQUFTbUYsRUFBWXpTLEdBQ2pCd0YsRUFBRSxTQUFTK0gsS0FBSyxZQUFhLFdBQ3pCL0gsRUFBRVksTUFBTUgsS0FBSyxXQUFXQyxLQUFLLEVBQU0ySSxZQUNuQ3JKLEVBQUVZLE1BQU1ILEtBQUssaUJBQWlCQyxLQUFLLEVBQUs4SyxXQUN4Q3hMLEVBQUVZLE1BQU1ILEtBQUssb0JBQW9CQyxLQUFLLFdBRWxDVixFQUFFbEYsSUFBSSxZQUFjTixFQUFNLFNBQVV5SCxHQUNoQyxJQUFJMkcsRUFBT3NFLEVBQU1DLFFBRlQsVUFFd0JsTCxFQUFLNEssVUFBVSxHQUMvQzdNLEVBQUUsV0FBV21LLElBQUlsSSxFQUFLd0YsT0FDdEJ6SCxFQUFFLGlCQUFpQm1LLElBQUlsSSxFQUFLMkosTUFDeEJoRCxJQUNBNUksRUFBRSxrQkFBa0I0SSxLQUFLQSxHQUN6QjVJLEVBQUUsY0FBYzRJLEtBQUt3RSxFQVBqQixVQU9tQ25MLEVBQUs0SyxXQUM1QzdELEVBQVNwSixpQkFBaUJwRixFQUFNd0YsRUFBRSxlQUV0Q3FOLEVBQVduSixTQUFTakMsRUFBS3FMLElBQUtyTCxFQUFLc0wsTUFBT3JNLFNBQVNlLEVBQUttQyxPQUFRbkMsRUFBS3VDLGNBTXJGLFNBQVM0SSxFQUFXdkwsRUFBTzJMLEVBQU1DLEdBQzdCLElBQUk3RSxFQUFPLEdBQ1gsR0FBSTFILFNBQVNzTSxFQUFLRSxXQUFhLEVBQUcsQ0FDOUIsSUFBSUMsRUFBUyxFQUNUcE4sRUFBT2lOLEVBQUtqTixLQUNaa04sSUFDQWxOLEVBQUtrTixVQUNMRSxFQUFTcE4sRUFBS2pELFFBRWxCaUQsRUFBSzZCLFFBQVEsU0FBVWxILEdBQ2YwUyxRQUFRQyxJQUFJM1MsR0FDWjBOLEdBQVEsdUJBQXlCK0UsRUFBUyxZQUFjek0sU0FBU2hHLEVBQU13TSxRQUFVLFlBQWMzQyxFQUFNdkgsT0FBTzBELFNBQVNoRyxFQUFNNFIsVUFBWSxRQUN2SWxFLEdBQVEsT0FBU3hNLEtBQUtxRixNQUErQixHQUF6QmtFLFdBQVd6SyxFQUFNcUosT0FBYyxHQUFLLGNBQzVEa0osRUFDQUUsSUFFQUEsTUFLaEIsT0FBTy9FLEVBMEJJLElDdEVYa0YsRURzRVcsR0FBRWIsY0FBYWMsYUF0QlgsU0FBVTlLLEdBQ3pCQSxFQUFFZ0gsaUJBRUZnRCxFQURXak4sRUFBRVksTUFBTXFCLEtBQUssVUFvQmdCbUwsYUFBWVksY0FoQnhELFNBQXVCL0ssR0FDbkJBLEVBQUVnSCxpQkFDRixJQUFJelAsRUFBT3dGLEVBQUVZLE1BQU1xQixLQUFLLFFBQ1g4SSxRQUFRLDZDQUVqQi9LLEVBQUVDLEtBQUssQ0FDSEUsSUFBSyxnQkFBa0IzRixFQUN2QjBGLEtBQU0sU0FDTkUsUUFBUyxTQUFVbUosR0FDZjBFLE1BQU0sbUJBQ04sRUFBUWxCLGlCQUFpQixFQUFHLFFDOUQ1QyxJQUFJbUIsRUFBa0IsU0FBVWpNLEdBQzVCLElBQUkySixFQUFPM0osRUFBSzJKLEtBQ1p1QyxFQUFVbE0sRUFBS3dGLE1BRWZtRSxHQUNBNUwsRUFBRSxpQkFBaUJtSyxJQUFJeUIsR0FHdkJ1QyxHQUNBbk8sRUFBRSxXQUFXbUssSUFBSWdFLElBSXpCLFNBQVNDLElBQ0xwTyxFQUFFLFNBQVMrSCxLQUFLLFFBQVMsV0FDckIsSUFBSXVCLEVBQU90SixFQUFFWSxNQUViWixFQUFFcU8sS0FDRS9FLEVBQUs3SSxLQUFLLFdBQVdDLEtBQUssRUFBTTJJLFlBQ3BDQyxFQUFLN0ksS0FBSyxpQkFBaUJDLEtBQUssRUFBSzhLLFlBQVk4QyxLQUVqRHRPLEVBQUVsRixJQUFJLGNBQWUsU0FBVW1ILEdBQzNCLElBQUlzTSxHQUFTLEVBQ2IsR0FBb0IsV0FBaEJ0TSxFQUFLdU0sT0FBcUIsQ0FDMUJELEdBQVMsRUFDVCxJQUFJRSxFQUFjek8sRUFBRSxhQUNoQitFLEVBQU1uSSxnQkFBZ0IsVUFDdEI2UixFQUFjek8sRUFBRSxvQkFFcEIsRUFBTXlPLEdBQWEsUUFFbkIsRUFBTTVELG9CQUVWcUQsRUFBZ0JqTSxNQUloQjhDLEVBQU1uSSxnQkFBZ0IsU0FDdEJvRCxFQUFFLGFBQWFhLEtBQUssS0FBTSxvQkE2Q3RDLFNBQVMsRUFBTTROLEVBQWFDLEdBQVEsR0FHaEMsR0FGQTFPLEVBQUUsYUFBYTJPLE9BQ2YzTyxFQUFFL0MsUUFBUTJSLFVBQVU1TyxFQUFFLFNBQVM2TyxTQUFTQyxLQUNwQ0osRUFBUyxDQUNUMUYsRUFBU2xILFdBQ1QsSUFBSWlOLEVBQVVDLEVBQVl2VCxLQUFLLE1BQU0sRUFBTSxVQUMzQ3VOLEVBQVN6RyxxQkFBcUJ3TSxRQUc5QkMsR0FBWSxFQUFNLFVBQ2xCaEcsRUFBU2xILFdBRWI5QixFQUFFLFdBQVdhLEtBQUssV0FBWSxZQUM5QmIsRUFBRSxpQkFBaUJhLEtBQUssV0FBWSxZQUNwQ2IsRUFBRSxtQkFBbUJhLEtBQUssV0FBWSxZQUN0Q2IsRUFBRXlPLEdBQWE1TixLQUFLLFdBQVksWUFDaENiLEVBQUV5TyxHQUFhN0YsS0FBSyxhQUNwQjVJLEVBQUV5TyxHQUFhckcsU0FBUyxVQUN4QnBJLEVBQUUsWUFBWStMLFlBQVksVUFHOUIsU0FBU2lELEVBQVlDLEVBQVd6TixHQUM1QjBOLEVBQVFqTCxJQUFNZ0wsRUFDZGpQLEVBQUVsRixJQUFJLE9BQVEsU0FBVW1ILEdBQ3BCLElBQUkyRyxFQUFPdUUsRUFBUTNMLEVBQU9TLEdBQzFCLEdBQUkyRyxFQUFNLENBQ041SSxFQUFFLGtCQUFrQjRJLEtBQUtBLEdBQ3pCNUksRUFBRSxjQUFjNEksS0FBSyxFQUFRd0UsV0FBVzVMLEVBQU9TLEdBQU0sSUFDckQsSUFBSXRCLEVBQU1zQixFQUFLQyxJQUFJdkIsSUFDZkcsRUFBTW1CLEVBQUtDLElBQUlwQixJQUNmL0UsRUFBSSxJQUFJK0MsT0FBT0MsS0FBS2dDLE9BQU9KLEVBQUtHLEdBS3BDLEdBSklqQyxFQUFJNkMsUUFBUXBFLE9BQVMyRSxFQUFLeUwsV0FDMUIxRSxFQUFTN0gsVUFBVXBGLEVBQUcsVUFBWWtHLEVBQUt5TCxVQUFXdE0sT0FBT2EsRUFBS3lMLFlBRWxFN08sRUFBSVIsV0FBV0QsS0FBS3JDLEdBQ2hCOEMsRUFBSU4sV0FDSk0sRUFBSU4sV0FBVzhDLE9BQU90RixHQUNYaU4sRUFBUzNKLGVBQWVSLEVBQUlSLFlBQ2xDaUQsT0FBT3pDLEVBQUlQLFNBQ2hCTyxFQUFJUCxRQUFRaUQsVUFBVTFDLEVBQUlOLGVBSW5DK1AsS0FBSyxXQUNBWSxFQUFRakwsTUFDUjZKLEVBQVVxQixXQUFXLFdBQWNILEdBQVksRUFBTXhOLElBQVcwTixFQUFRbEwsZ0JBOEJwRixTQUFTbUosRUFBUXRMLEVBQU8yTCxFQUFNNEIsR0FDMUIsR0FBOEIsSUFBMUJsTyxTQUFTc00sRUFBSzlGLFFBQWxCLENBR0EsSUFBSWtCLEVBQU8sR0FxQlgsT0FwQkl3RyxJQUNBeEcsR0FBUSxvRUFBc0U0RSxFQUFLcEosTUFBTXZHLE9BQU8sRUFBRzJQLEVBQUtwSixNQUFNc0IsWUFBWSxLQUFPLEdBQUssZ0JBRTFJa0QsR0FBUSx1RUFBeUU0RSxFQUFLcEosTUFBTXZHLE9BQU8yUCxFQUFLcEosTUFBTXNCLFlBQVksS0FBTyxFQUFHLEdBQUssZUFDeklrRCxHQUFRLHNFQUF3RTdELEVBQU12SCxPQUFPMEQsU0FBU3NNLEVBQUtWLFVBQVksZUFDdkhsRSxHQUFRLHdFQUEwRTFILFNBQVNzTSxFQUFLOUYsUUFBVSxPQUFTOEYsRUFBSzZCLFFBQVUsZ0JBQ2xJekcsR0FBUSxzRUFBd0V4TSxLQUFLcUYsTUFBOEIsSUFBeEJrRSxXQUFXNkgsRUFBS3JSLE1BQWMsSUFBTSxHQUFLLG9CQUNwSXlNLEdBQVEsc0VBQXdFN0QsRUFBTXZILE9BQU8wRCxTQUFTc00sRUFBSzhCLFVBQVksZUFDdkgxRyxHQUFRLG9FQUFzRTdELEVBQU12SCxPQUFPMEQsU0FBU3NNLEVBQUsrQixXQUFhLGVBQ3RIM0csR0FBUSx1RUFBeUV4TSxLQUFLcUYsTUFBOEIsR0FBeEJrRSxXQUFXNkgsRUFBS2pKLE9BQWMsR0FBSyxnQkFDL0hxRSxHQUFRLG9FQUFzRXhNLEtBQUtxRixNQUFnQyxHQUExQmtFLFdBQVc2SCxFQUFLaEosU0FBZ0IsR0FBSyxlQUMxSHRELFNBQVNzTSxFQUFLN1EsSUFBTSxJQUNwQmlNLEdBQVEsbUVBQXFFN0QsRUFBTXJJLGtCQUFrQndFLFNBQVNzTSxFQUFLN1EsS0FBTyxLQUFPdUUsU0FBU3NNLEVBQUs3USxLQUFPdUUsU0FBU3NNLEVBQUtnQyxPQUFTLEVBQUksSUFBTXRPLFNBQVNzTSxFQUFLZ0MsT0FBUyxJQUFNLElBQU0sZ0JBRTFOaEMsRUFBS2lDLFdBQ0w3RyxHQUFRLDRGQUE4RjRFLEVBQUtpQyxTQUMzRzdHLEdBQVEsdUZBQXlGNEUsRUFBS2hULEtBQ3RHb08sR0FBUSwrRkFDUkEsR0FBUSxrQ0FBb0M0RSxFQUFLaFQsS0FBTyxpSEFFckRvTyxFQUFPLElBSUgsT0FBRXdGLFdBQVVoSyxNQUFLLG1DQXhJaEMsU0FBa0JuQixHQUNkQSxFQUFFZ0gsaUJBQ0YsSUFBSXlGLEVBQVMxUCxFQUFFLFdBQVdtSyxNQUN0QndGLEVBQVMzUCxFQUFFLGlCQUFpQm1LLE1BQzVCYixFQUFPMUksS0FDWFosRUFBRWxGLElBQUksYUFBYyxDQUFFNFUsT0FBUUEsRUFBUTlELEtBQU0rRCxHQUFVLFdBQ2xELEVBQU1yRyxNQWtJa0IsUUE5SGhDLFNBQWlCckcsR0FDYkEsRUFBRWdILGlCQUNGakssRUFBRSxhQUFhNFAsT0FDZjVQLEVBQUUvQyxRQUFRMlIsVUFBVTVPLEVBQUUsYUFBYTZPLFNBQVNDLEtBQzVDLElBQUl4RixFQUFPdEosRUFBRVksTUFDYmlQLGFBQWEvQixHQUNib0IsRUFBUWpMLEtBQU0sRUFDZCxJQUFJeUwsRUFBUzFQLEVBQUUsV0FBV21LLE1BQ3RCeUIsRUFBTzVMLEVBQUUsaUJBQWlCbUssTUFDOUJuSyxFQUFFbEYsSUFBSSxZQUFhLENBQUU0VSxPQUFRQSxFQUFROUQsS0FBTUEsR0FBUSxTQUFVM0osR0FDekRqQyxFQUFFLGtCQUFrQjRJLEtBQUt1RSxFQUFRLFVBQVdsTCxHQUFNLElBQ2xELElBQUk2TixFQUFXOVAsRUFBRSxhQUNqQjhQLEVBQVNDLFdBQVcsWUFDcEJELEVBQVMvRCxZQUFZLFVBQ3JCK0QsRUFBU2xILEtBQUssYUFDZFUsRUFBS2xCLFNBQVMsVUFDZHBJLEVBQUUsV0FBVytQLFdBQVcsWUFDeEIvUCxFQUFFLGlCQUFpQitQLFdBQVcsWUFDOUIvUCxFQUFFLG1CQUFtQitQLFdBQVcsZUE0R1IsS0F0RGhDLFdBRUksT0FEVzlTLE9BQU9DLFNBQVM4UyxNQUV2QixJQUFLLFNBQ0QsRUFBTW5JLFVBQVUsR0FDaEIsTUFDSixJQUFLLFFBQ0QsRUFBSzhELFdBQ0wsTUFDSixJQUFLLFdBQ0QsRUFBUU8sWUFBWSxHQUNwQixNQUNKLElBQUssV0FDRCxJQUFJMVIsRUFBT3VLLEVBQU1qSCxZQUFZYixPQUFPQyxTQUFTK1MsTUFBWSxLQUFFbkUsUUFBUSxXQUFXLElBQzlFLEVBQVFtQixZQUFZelMsR0FDcEIsTUFDSixJQUFLLGVBQ0QsRUFBTXVPLGdCQUFnQmhFLEVBQU1qSCxZQUFZYixPQUFPQyxTQUFTK1MsTUFBYSxPQUNyRSxNQUNKLFFBQ0k3QixNQWtDb0IsZUFoSmhDLFNBQXdCbkwsR0FDcEJBLEVBQUVnSCxpQkFDRixJQUFJZ0csRUFBT2pRLEVBQUVZLE1BQU1DLEtBQUssUUFDeEJiLEVBQUVsRixJQUFJbVYsRUFBTSxTQUFVaE8sR0FDbEJnTSxNQUFNLDJCQzlDZGhSLE9BQU9hLFlBQWMsV0FPakIsSUFKQSxJQUFJRSxFQUFlLEdBRWZDLEVBRFFoQixPQUFPQyxTQUFTQyxPQUFPQyxVQUFVLEdBQzVCQyxNQUFNLEtBRWRwRCxFQUFJLEVBQUdBLEVBQUlnRSxFQUFLWCxPQUFRckQsSUFBSyxDQUNsQyxJQUFJaUUsRUFBT0QsRUFBS2hFLEdBQUdvRCxNQUFNLEtBR3pCLFFBQXFDLElBQTFCVyxFQUFhRSxFQUFLLElBQ3pCRixFQUFhRSxFQUFLLElBQU1sQixtQkFBbUJrQixFQUFLLFNBRTdDLEdBQXFDLGlCQUExQkYsRUFBYUUsRUFBSyxJQUFrQixDQUNsRCxJQUFJQyxFQUFNLENBQUNILEVBQWFFLEVBQUssSUFBS2xCLG1CQUFtQmtCLEVBQUssS0FDMURGLEVBQWFFLEVBQUssSUFBTUMsT0FHeEJILEVBQWFFLEVBQUssSUFBSUUsS0FBS3BCLG1CQUFtQmtCLEVBQUssS0FJM0QsT0FBT0YsRUF2QlUsR0EwQnJCZ0MsRUFBRSxXQUdFa04sRUFBTThCLGFBQVksRUFBTyxJQUV6QmhQLEVBQUVyQixVQUFVbUssR0FBRyxRQUFTLFFBQVMsU0FBVTdGLEdBQ3ZDaUssRUFBTWtCLGFBR1ZwTyxFQUFFckIsVUFBVW1LLEdBQUcsUUFBUyxRQUFTLFNBQVU3RixHQUN2QyxFQUFLMEksYUFHVDNMLEVBQUVyQixVQUFVbUssR0FBRyxRQUFTLGtCQUFtQixFQUFRa0UsYUFHbkRoTixFQUFFckIsVUFBVW1LLEdBQUcsUUFBUyxnQkFBaUIsRUFBTXVDLFdBRS9DckwsRUFBRXJCLFVBQVVtSyxHQUFHLFFBQVMsWUFBYSxTQUFVN0YsR0FDM0NqRCxFQUFFLGFBQWFTLEtBQUssYUFBYUMsS0FBSyxXQUNsQ1YsRUFBRVksTUFBTW1MLFlBQVksWUFFeEIvTCxFQUFFWSxNQUFNc1AsU0FBUzlILFNBQVMsWUFHOUJwSSxFQUFFckIsVUFBVW1LLEdBQUcsUUFBUyxZQUFhLEVBQVFpRixjQUU3Qy9OLEVBQUVyQixVQUFVbUssR0FBRyxRQUFTLFlBQWEsU0FBVTdGLEdBQzNDLEVBQVE4SixpQkFBaUIsRUFBRyxLQUdoQy9NLEVBQUVyQixVQUFVbUssR0FBRyxRQUFTLFVBQVcsU0FBVTdGLEdBQ3pDLEVBQU00RSxVQUFVLEtBR3BCN0gsRUFBRXJCLFVBQVVtSyxHQUFHLFdBQVksYUFBY0UsRUFBUzFHLFlBRWxEdEMsRUFBRXJCLFVBQVVtSyxHQUFHLFFBQVMsa0JBQW1Cb0UsRUFBTTRDLFVBRWpEOVAsRUFBRXJCLFVBQVVtSyxHQUFHLFFBQVMsaUJBQWtCb0UsRUFBTWlELFNBRWhEblEsRUFBRXJCLFVBQVVtSyxHQUFHLFFBQVMsYUFBYyxFQUFLK0MsVUFFM0M3TCxFQUFFckIsVUFBVW1LLEdBQUcsUUFBUyxjQUFlLEVBQU1rQixXQUU3Q2hLLEVBQUVyQixVQUFVbUssR0FBRyxRQUFTLFVBQVdvRSxFQUFNa0QsZ0JBRXpDcFEsRUFBRXJCLFVBQVVtSyxHQUFHLFFBQVMsZUFBZ0IsRUFBUWtGLGVBRWhEaE8sRUFBRXJCLFVBQVVtSyxHQUFHLFFBQVMsY0FBZSxFQUFNa0MsV0FFN0NoTCxFQUFFckIsVUFBVW1LLEdBQUcsUUFBUyxhQUFjLEVBQUtrRCxVQUUzQ2hNLEVBQUVyQixVQUFVbUssR0FBRyxRQUFTLFlBQWEsRUFBS21ELFlBRTFDak0sRUFBRXJCLFVBQVVtSyxHQUFHLFFBQVMsYUFBYyxFQUFNZ0MsYUFFNUM5SyxFQUFFckIsVUFBVW1LLEdBQUcsUUFBUyxnQkFBaUIsRUFBTXlDLGtCQUUvQ3ZMLEVBQUUsU0FBU1UsS0FBS3dNLEVBQU1uRixNQUV0Qi9ILEVBQUUsV0FBV1UsS0FBSyxFQUFNMkksWUFFeEJySixFQUFFLGlCQUFpQlUsS0FBSyxFQUFLOEssV0FFN0J4TCxFQUFFckIsVUFBVW1LLEdBQUcsZ0JBQWlCLG9CQUFxQixFQUFNMkIsZ0JBRTNEekssRUFBRXJCLFVBQVVtSyxHQUFHLGlCQUFrQixvQkFBcUIsU0FBVTdGLEdBQzVELElBQUl6SSxFQUFPd0YsRUFBRWlELEVBQUV5SCxlQUFlekksS0FBSyxjQUNuQytHLEVBQVNoSCxtQkFBbUJ4SCxFQUFNd0YsRUFBRSxzQkFHeENBLEVBQUVyQixVQUFVbUssR0FBRyxTQUFVLFVBQVcsRUFBTStCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImNvbnN0IFdBVFRfUkFUSU9OID0gMi44MDtcclxuXHJcbmZ1bmN0aW9uIGNhbGNXYXR0KHBhY2UpIHtcclxuICAgIHJldHVybiBXQVRUX1JBVElPTiAvIE1hdGgucG93KHBhY2UsIDMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXNzaW9uTmFtZVRvUmVhZGFibGUobmFtZSkge1xyXG4gICAgcmV0dXJuIG1vbWVudChuYW1lLnNsaWNlKDAsIDEzKSArICc6JyArIG5hbWUuc2xpY2UoMTMsMTUpICsgJzonICsgbmFtZS5zbGljZSgxNSkpLmZvcm1hdChcIllZWVktTU0tREQgaGg6bW06c3NcIik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEhlYXJ0UmF0ZUNvbG9yKGhyKSB7XHJcbiAgICBpZiAoaHIgPCAxMjUpIHtcclxuICAgICAgICByZXR1cm4gJ3RleHQtc3VjY2VzcydcclxuICAgIH0gZWxzZSBpZiAoaHIgPCAxNTApIHtcclxuICAgICAgICByZXR1cm4gJ3RleHQtcHJpbWFyeSdcclxuICAgIH0gZWxzZSBpZiAoaHIgPCAxNzUpIHtcclxuICAgICAgICByZXR1cm4gJ3RleHQtd2FybmluZyc7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAndGV4dC1kYW5nZXInO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgZ2V0VXJsUGFyYW1ldGVyID0gZnVuY3Rpb24gZ2V0VXJsUGFyYW1ldGVyKHNQYXJhbSkge1xyXG4gICAgdmFyIHNQYWdlVVJMID0gZGVjb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKSxcclxuICAgICAgICBzVVJMVmFyaWFibGVzID0gc1BhZ2VVUkwuc3BsaXQoJyYnKSxcclxuICAgICAgICBzUGFyYW1ldGVyTmFtZSxcclxuICAgICAgICBpO1xyXG5cclxuICAgIGZvciAoaSA9IDA7IGkgPCBzVVJMVmFyaWFibGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgc1BhcmFtZXRlck5hbWUgPSBzVVJMVmFyaWFibGVzW2ldLnNwbGl0KCc9Jyk7XHJcblxyXG4gICAgICAgIGlmIChzUGFyYW1ldGVyTmFtZVswXSA9PT0gc1BhcmFtKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzUGFyYW1ldGVyTmFtZVsxXSA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IHNQYXJhbWV0ZXJOYW1lWzFdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZtdE1TUyhzKSB7XHJcbiAgICB2YXIgZGF0ZSA9IG5ldyBEYXRlKG51bGwpO1xyXG4gICAgZGF0ZS5zZXRTZWNvbmRzKHMpOyAvLyBzcGVjaWZ5IHZhbHVlIGZvciBTRUNPTkRTIGhlcmVcclxuICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCkuc3Vic3RyKDExLCA4KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBUaGlzIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0IHRoYXQgY29udGFpbnMgZXZlcnkgZ2V0IHBhcmFtZXRlciBmcm9tIGEgVVJMIChmaXJzdCBhcmd1bWVudCkgYXMgYSBwcm9wZXJ0eVxyXG4gKiBcclxuICogQHBhcmFtIFVSTCB7U3RyaW5nfVxyXG4gKi9cclxuZnVuY3Rpb24gUXVlcnlTdHJpbmcoVVJMKSB7XHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGFub255bW91cywgaXMgZXhlY3V0ZWQgaW1tZWRpYXRlbHkgYW5kIFxyXG4gICAgLy8gdGhlIHJldHVybiB2YWx1ZSBpcyBhc3NpZ25lZCB0byBRdWVyeVN0cmluZyFcclxuICAgIHZhciBxdWVyeV9zdHJpbmcgPSB7fTtcclxuICAgIHZhciB1c2VmdWxQYXJhbSA9IFVSTC5zcGxpdChcIj9cIilbMV0gfHwgXCJcIjtcclxuICAgIHZhciBxdWVyeSA9IHVzZWZ1bFBhcmFtIHx8IFwiXCI7XHJcbiAgICB2YXIgdmFycyA9IHF1ZXJ5LnNwbGl0KFwiJlwiKTtcclxuXHJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB2YXIgcGFpciA9IHZhcnNbaV0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIElmIGZpcnN0IGVudHJ5IHdpdGggdGhpcyBuYW1lXHJcbiAgICAgICAgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xyXG4gICAgICAgICAgICAvLyBJZiBzZWNvbmQgZW50cnkgd2l0aCB0aGlzIG5hbWVcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBxdWVyeV9zdHJpbmdbcGFpclswXV0gPT09IFwic3RyaW5nXCIpIHtcclxuICAgICAgICAgICAgdmFyIGFyciA9IFtxdWVyeV9zdHJpbmdbcGFpclswXV0sIGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKV07XHJcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9IGFycjtcclxuICAgICAgICAgICAgLy8gSWYgdGhpcmQgb3IgbGF0ZXIgZW50cnkgd2l0aCB0aGlzIG5hbWVcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0ucHVzaChkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gcXVlcnlfc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7IGNhbGNXYXR0LCBzZXNzaW9uTmFtZVRvUmVhZGFibGUsIGdldEhlYXJ0UmF0ZUNvbG9yLCBnZXRVcmxQYXJhbWV0ZXIsIGZtdE1TUywgXHJcbiAgICBRdWVyeVN0cmluZyB9XHJcblxyXG4iLCJ2YXIgbGl2ZVBvaW50cyA9IFtdO1xyXG52YXIgbGl2ZU1hcDtcclxudmFyIGxpdmVCb3VuZHM7XHJcbnZhciBtYXJrZXJzID0gW107XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyBsaXZlUG9pbnRzLCBsaXZlTWFwLCBsaXZlQm91bmRzLCBtYXJrZXJzIH0iLCJpbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcclxuXHJcblxyXG5jb25zdCBzdHlsZXMgPSBbe1xyXG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcImxhbmRzY2FwZVwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSwgeyBcImxpZ2h0bmVzc1wiOiA2NSB9LFxyXG4gICAgICAgIHsgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9XVxyXG59LCB7XHJcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicG9pXCIsIFwic3R5bGVyc1wiOiBbeyBcInNhdHVyYXRpb25cIjogLTEwMCB9LCB7IFwibGlnaHRuZXNzXCI6IDUxIH0sXHJcbiAgICAgICAgeyBcInZpc2liaWxpdHlcIjogXCJzaW1wbGlmaWVkXCIgfV1cclxufSwge1xyXG4gICAgXCJmZWF0dXJlVHlwZVwiOiBcInJvYWQuaGlnaHdheVwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcclxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIiB9XVxyXG59LCB7XHJcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5hcnRlcmlhbFwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcclxuICAgICAgICB7IFwibGlnaHRuZXNzXCI6IDMwIH0sIHsgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9XVxyXG59LCB7XHJcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwicm9hZC5sb2NhbFwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcclxuICAgICAgICB7IFwibGlnaHRuZXNzXCI6IDQwIH0sIHsgXCJ2aXNpYmlsaXR5XCI6IFwib25cIiB9XVxyXG59LCB7XHJcbiAgICBcImZlYXR1cmVUeXBlXCI6IFwidHJhbnNpdFwiLCBcInN0eWxlcnNcIjogW3sgXCJzYXR1cmF0aW9uXCI6IC0xMDAgfSxcclxuICAgICAgICB7IFwidmlzaWJpbGl0eVwiOiBcInNpbXBsaWZpZWRcIiB9XVxyXG59LCB7IFwiZmVhdHVyZVR5cGVcIjogXCJhZG1pbmlzdHJhdGl2ZS5wcm92aW5jZVwiLCBcInN0eWxlcnNcIjogW3sgXCJ2aXNpYmlsaXR5XCI6IFwib2ZmXCIgfV0gfSxcclxuICAgIHsgXCJmZWF0dXJlVHlwZVwiOiBcIndhdGVyXCIsIFwiZWxlbWVudFR5cGVcIjogXCJsYWJlbHNcIiwgXCJzdHlsZXJzXCI6IFt7IFwidmlzaWJpbGl0eVwiOiBcIm9uXCIgfSwgeyBcImxpZ2h0bmVzc1wiOiAtMjUgfSwgeyBcInNhdHVyYXRpb25cIjogLTEwMCB9XSB9LFxyXG4gICAgeyBcImZlYXR1cmVUeXBlXCI6IFwid2F0ZXJcIiwgXCJlbGVtZW50VHlwZVwiOiBcImdlb21ldHJ5XCIsIFwic3R5bGVyc1wiOiBbeyBcImh1ZVwiOiBcIiNmZmZmMDBcIiB9LCB7IFwibGlnaHRuZXNzXCI6IC0yNSB9LCB7IFwic2F0dXJhdGlvblwiOiAtOTcgfV0gfV07XHJcblxyXG5mdW5jdGlvbiBjbGVhbk1hcChpbml0ID0gdHJ1ZSkge1xyXG4gICAgaWYgKGluaXQpIHtcclxuICAgICAgICBpbml0TWFwKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbWFwLmxpdmVQb2ludHMgPSBbXTtcclxuICAgIG1hcC5tYXJrZXJzID0gW107XHJcbiAgICBsZXQgcG9seSA9IGNyZWF0ZVBvbHlMaW5lKG1hcC5saXZlUG9pbnRzKTtcclxuICAgIHBvbHkuc2V0TWFwKG1hcC5saXZlTWFwKTtcclxuXHJcbiAgICAvLyBmaXQgYm91bmRzIHRvIHRyYWNrXHJcbiAgICBpZiAodHlwZW9mIG1hcC5saXZlTWFwICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbWFwLmxpdmVNYXAuZml0Qm91bmRzID09PSAnZnVuY3Rpb24nICkge1xyXG4gICAgICAgIG1hcC5saXZlTWFwLmZpdEJvdW5kcyhtYXAubGl2ZUJvdW5kcyk7XHJcbiAgICB9XHJcbiAgIFxyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TWFwKCkge1xyXG4gICAgbGV0IG1hcERpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsaXZlLW1hcCcpO1xyXG4gICAgaWYgKG1hcERpdikge1xyXG4gICAgICAgIG1hcC5saXZlTWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChtYXBEaXYsIHtcclxuICAgICAgICAgICAgem9vbTogOCxcclxuICAgICAgICAgICAgbWF4Wm9vbTogMTZcclxuICAgICAgICB9KTtcclxuICAgICAgICBtYXAubGl2ZUJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcclxuICAgICAgICBtYXAubGl2ZU1hcC5zZXQoJ3N0eWxlcycsIHN0eWxlcyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8vVE9ETzogQ2hhbmdlIGNvbG9yIGJ5IHNwZWVkIG9yIGhyLlxyXG5mdW5jdGlvbiBjcmVhdGVQb2x5TGluZShwb2ludHMpIHtcclxuICAgIHJldHVybiBuZXcgZ29vZ2xlLm1hcHMuUG9seWxpbmUoe1xyXG4gICAgICAgIHBhdGg6IHBvaW50cyxcclxuICAgICAgICBzdHJva2VDb2xvcjogXCIjRkYwMEFBXCIsXHJcbiAgICAgICAgc3Ryb2tlT3BhY2l0eTogLjcsXHJcbiAgICAgICAgc3Ryb2tlV2VpZ2h0OiA0XHJcbiAgICB9KTtcclxufVxyXG5cclxudmFyIGFkZFJvdXRlVHJhY2tUb01hcCA9IGZ1bmN0aW9uIChuYW1lLCBlbGVtZW50KSB7XHJcbiAgICBpZiAobmFtZSkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIHVybDogJy9yb3V0ZXMvJyArIG5hbWUsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgZ3BzID0gZGF0YS5ncHM7XHJcbiAgICAgICAgICAgICAgICBsZXQgbWFwRWxlbWVudCA9IGVsZW1lbnRbMF07XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9pbnRzID0gW107XHJcbiAgICAgICAgICAgICAgICBsZXQgbWFwID0gbmV3IGdvb2dsZS5tYXBzLk1hcChtYXBFbGVtZW50LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgem9vbTogOCxcclxuICAgICAgICAgICAgICAgICAgICBtYXhab29tOiAxNlxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgbWFwLnNldCgnc3R5bGVzJywgc3R5bGVzKTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgYm91bmRzID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZ0JvdW5kcygpO1xyXG5cclxuICAgICAgICAgICAgICAgIGdwcy5mb3JFYWNoKGZ1bmN0aW9uIChwb2ludCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBsYXQgPSBwb2ludC5sYXQ7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxvbiA9IHBvaW50LmxvbjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgcCA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmcobGF0LCBsb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIHBvaW50cy5wdXNoKHApO1xyXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5leHRlbmQocCk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICBsZXQgcG9seSA9IGNyZWF0ZVBvbHlMaW5lKHBvaW50cyk7XHJcbiAgICAgICAgICAgICAgICBwb2x5LnNldE1hcChtYXApO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIGZpdCBib3VuZHMgdG8gdHJhY2tcclxuICAgICAgICAgICAgICAgIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxudmFyIGFkZEdweFRyYWNrVG9NYXAgPSBmdW5jdGlvbiAobmFtZSwgZWxlbWVudCkge1xyXG4gICAgbGV0IG1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZWxlbWVudFswXSwge1xyXG4gICAgICAgIHpvb206IDE2XHJcbiAgICB9KTtcclxuICAgIHZhciBzdWNjZXNYbWwgPSBhZGRYbWwuYmluZChudWxsLCBtYXApO1xyXG4gICAgaWYgKG5hbWUpIHtcclxuICAgICAgICAkLmFqYXgoe1xyXG4gICAgICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgICAgICB1cmw6ICcvc2Vzc2lvbnMvJyArIG5hbWUgKyAnLmdweCcsXHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc1htbFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59O1xyXG5cclxudmFyIGFkZFNlc3Npb25UcmFja1RvTWFwID0gZnVuY3Rpb24gKGNvbXBsZXRlKSB7XHJcbiAgICB2YXIgc3VjY2VzWG1sID0gYWRkWG1sLmJpbmQobnVsbCwgbWFwLmxpdmVNYXApO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB0eXBlOiBcIkdFVFwiLFxyXG4gICAgICAgIHVybDogJ3Jvdy9ncHgnLFxyXG4gICAgICAgIHN1Y2Nlc3M6IHN1Y2Nlc1htbCxcclxuICAgICAgICBjb21wbGV0ZTogY29tcGxldGVcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbmZ1bmN0aW9uIGFkZFhtbChtYXAsIHhtbCkge1xyXG4gICAgbGV0IHBvaW50cyA9IFtdO1xyXG5cclxuICAgIG1hcC5zZXQoJ3N0eWxlcycsIHN0eWxlcyk7XHJcblxyXG4gICAgbGV0IGJvdW5kcyA9IG5ldyBnb29nbGUubWFwcy5MYXRMbmdCb3VuZHMoKTtcclxuICAgIGxldCBsYXBzID0gMTtcclxuICAgIGxldCBtYXJrZXIgPSAxO1xyXG4gICAgJCh4bWwpLmZpbmQoXCJ0cmtwdFwiKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBsZXQgbGF0ID0gJCh0aGlzKS5hdHRyKFwibGF0XCIpO1xyXG4gICAgICAgIGxldCBsb24gPSAkKHRoaXMpLmF0dHIoXCJsb25cIik7XHJcbiAgICAgICAgbGV0IHAgPSBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKGxhdCwgbG9uKTtcclxuXHJcbiAgICAgICAgcG9pbnRzLnB1c2gocCk7XHJcbiAgICAgICAgbGV0IGttID0gY3JlYXRlUG9seUxpbmUocG9pbnRzKS5pbkttKCk7XHJcbiAgICAgICAgbGFwcyA9IHBhcnNlSW50KGttIC8gMC41KSArIDE7IC8vIDAuNSBpcyA1MDAgbGFwXHJcbiAgICAgICAgaWYgKG1hcmtlciA8IGxhcHMgKSB7XHJcbiAgICAgICAgICAgIGFkZE1hcmtlcihwLCBcIlJ1bmRlOiBcIiArIChsYXBzLTEpLCBTdHJpbmcobGFwcyAtIDEpLCBtYXApO1xyXG4gICAgICAgICAgICBtYXJrZXIrKztcclxuICAgICAgICB9XHJcbiAgICAgICAgYm91bmRzLmV4dGVuZChwKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGxldCBwb2x5ID0gY3JlYXRlUG9seUxpbmUocG9pbnRzKTtcclxuXHJcbiAgICBwb2x5LnNldE1hcChtYXApO1xyXG5cclxuICAgIC8vIGZpdCBib3VuZHMgdG8gdHJhY2tcclxuICAgIG1hcC5maXRCb3VuZHMoYm91bmRzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZEdweE1hcCgpIHtcclxuICAgIGxldCBuYW1lID0gJCh0aGlzKS5kYXRhKCduYW1lJyk7XHJcbiAgICBsZXQgZWxlbWVudCA9ICQodGhpcykuZmluZCgnLmNhcmQtbWFwLXRvcCcpO1xyXG4gICAgYWRkR3B4VHJhY2tUb01hcChuYW1lLCBlbGVtZW50KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkTWFya2VyKHAsIHRpdGxlLCByb3VuZCwgbGl2ZU1hcD1tYXAubGl2ZU1hcCkge1xyXG4gICAgbWFwLm1hcmtlcnMucHVzaChuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICBwb3NpdGlvbjpwLFxyXG4gICAgICAgIG1hcDogbGl2ZU1hcCxcclxuICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgbGFiZWw6IHJvdW5kXHJcbiAgICB9KSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHsgY2xlYW5NYXAsIGluaXRNYXAsIHN0eWxlcywgYWRkUm91dGVUcmFja1RvTWFwLCBhZGRHcHhUcmFja1RvTWFwLCBsb2FkR3B4TWFwLFxyXG4gICAgY3JlYXRlUG9seUxpbmUsIGFkZE1hcmtlciwgYWRkU2Vzc2lvblRyYWNrVG9NYXAgfSIsIlxyXG5mdW5jdGlvbiBsZWFkZXJib2FyZChuYW1lLCBjYWxsYmFjaykge1xyXG4gICAgJC5nZXQoJy9zdHJhdmEvcm91dGUvbGVhZGVyYm9hcmQvJyArIG5hbWUsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgY2FsbGJhY2soZGF0YSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIHNlZ21lbnQobmFtZSwgY2FsbGJhY2spIHtcclxuICAgICQuZ2V0KCcvc3RyYXZhL3JvdXRlLycgKyBuYW1lLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGNhbGxiYWNrLmFwcGx5KGRhdGEpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyBsZWFkZXJib2FyZCwgc2VnbWVudCB9IiwiZXhwb3J0IGNvbnN0IFJBVElPTiA9ICgxMDAgLyA0LjgwNSkgKiA2O1xyXG5leHBvcnQgY29uc3QgUEFHRV9TSVpFID0gMTA7XHJcbmV4cG9ydCBjb25zdCBVUERBVEVfRlJFUSA9IDEwMDA7XHJcbmV4cG9ydCB2YXIgcnVuID0gZmFsc2U7XHJcblxyXG5nb29nbGUubWFwcy5MYXRMbmcucHJvdG90eXBlLmttVG8gPSBmdW5jdGlvbihhKXtcclxuICAgIHZhciBlID0gTWF0aCwgcmEgPSBlLlBJLzE4MDtcclxuICAgIHZhciBiID0gdGhpcy5sYXQoKSAqIHJhLCBjID0gYS5sYXQoKSAqIHJhLCBkID0gYiAtIGM7XHJcbiAgICB2YXIgZyA9IHRoaXMubG5nKCkgKiByYSAtIGEubG5nKCkgKiByYTtcclxuICAgIHZhciBmID0gMiAqIGUuYXNpbihlLnNxcnQoZS5wb3coZS5zaW4oZC8yKSwgMikgKyBlLmNvcyhiKSAqIGUuY29zXHJcbiAgICAoYykgKiBlLnBvdyhlLnNpbihnLzIpLCAyKSkpO1xyXG4gICAgcmV0dXJuIGYgKiA2Mzc4LjEzNztcclxufVxyXG5cclxuZ29vZ2xlLm1hcHMuUG9seWxpbmUucHJvdG90eXBlLmluS20gPSBmdW5jdGlvbihuKXtcclxuICAgIHZhciBhID0gdGhpcy5nZXRQYXRoKG4pLCBsZW4gPSBhLmdldExlbmd0aCgpLCBkaXN0ID0gMDtcclxuICAgIGZvcih2YXIgaT0wOyBpPGxlbi0xOyBpKyspe1xyXG4gICAgICAgIGRpc3QgKz0gYS5nZXRBdChpKS5rbVRvKGEuZ2V0QXQoaSsxKSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGlzdDtcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7IFJBVElPTiwgUEFHRV9TSVpFLCBVUERBVEVfRlJFUSwgcnVuIH0iLCJpbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04sIHJ1biB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xyXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xyXG5cclxuZnVuY3Rpb24gYWRkR3JhcGgodGltZSwgaHIsIHN0YXJ0LCBzdHJva2VzKSB7XHJcbiAgICB2YXIgc3BlZWQgPSBbXTtcclxuICAgIHZhciB3YXR0ID0gW107XHJcbiAgICB2YXIgc3Ryb2tlID0gW107XHJcbiAgICB2YXIgc3Ryb2tlQ29udGVyID0gMTtcclxuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdGltZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHZhciB0aW1lVmFsID0gcGFyc2VJbnQodGltZVtpXSk7XHJcbiAgICAgICAgdmFyIHN0cm9rZVRpbWUgPSBwYXJzZUludChzdHJva2VzW3N0cm9rZUNvbnRlcl0pO1xyXG4gICAgICAgIHZhciBzZWMgPSAoKHRpbWVWYWwgLSBzdGFydCkgLyAxMDAwKTtcclxuICAgICAgICB2YXIgbGVuZ2h0ID0gKFJBVElPTiAvIDEwMCk7XHJcbiAgICAgICAgc3BlZWQucHVzaCgoKGxlbmdodCAvIHNlYykpICogMy42KTtcclxuICAgICAgICB2YXIgd2F0dFZhbHVlID0gdXRpbHMuY2FsY1dhdHQoc2VjIC8gbGVuZ2h0KTtcclxuICAgICAgICB3YXR0LnB1c2god2F0dFZhbHVlKTtcclxuICAgICAgICBzdHJva2UucHVzaCgxMDAwKjYwIC8gKHN0cm9rZVRpbWUgLSBwYXJzZUludChzdHJva2VzW3N0cm9rZUNvbnRlci0xXSkpKTtcclxuICAgICAgICBzdGFydCA9IHBhcnNlSW50KHRpbWVbaV0pO1xyXG4gICAgICAgIGlmICh0aW1lVmFsID4gc3Ryb2tlVGltZSkge1xyXG4gICAgICAgICAgICBzdHJva2VDb250ZXIrKztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy9SZW1vdmUgZXZlciBzZWNvbmQgZWxlbWVudFxyXG4gICAgdmFyIHNwZWVkTWVyZ2VkID0gW107XHJcbiAgICB2YXIgaHJNZXJnZWQgPSBbXTtcclxuICAgIHZhciB3YXR0TWVyZ2VkID0gW107XHJcbiAgICB2YXIgc3Ryb2tlTWVyZ2VkID0gW107XHJcbiAgICB2YXIgbGFiZWxzTWVyZ2VkID0gW107XHJcbiAgICB2YXIgbWVyZ2VTaXplID0gMTA7XHJcbiAgICBpZiAodGltZS5sZW5ndGggPiAxMDAwKSB7XHJcbiAgICAgICAgbWVyZ2VTaXplID0gMjA7XHJcbiAgICB9XHJcblxyXG4gICAgd2hpbGUgKHRpbWUubGVuZ3RoKSB7XHJcbiAgICAgICAgdmFyIGEgPSB0aW1lLnNwbGljZSgwLCBtZXJnZVNpemUpO1xyXG4gICAgICAgIHZhciB0aW1lViA9IHBhcnNlSW50KGEucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyBhLmxlbmd0aCk7XHJcbiAgICAgICAgbGFiZWxzTWVyZ2VkLnB1c2gobmV3IERhdGUodGltZVYpLnRvSVNPU3RyaW5nKCkuc3Vic3RyKG5ldyBEYXRlKHRpbWVWKS50b0lTT1N0cmluZygpLmxhc3RJbmRleE9mKCdUJykgKyAxLCA4KSk7XHJcbiAgICAgICAgaWYgKGhyKSB7XHJcbiAgICAgICAgICAgIHZhciBoID0gaHIuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XHJcbiAgICAgICAgICAgIGlmIChoLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgIGhyTWVyZ2VkLnB1c2gocGFyc2VJbnQoaC5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIGgubGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0cm9rZSkge1xyXG4gICAgICAgICAgICB2YXIgaCA9IHN0cm9rZS5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcclxuICAgICAgICAgICAgaWYgKGgubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc3Ryb2tlTWVyZ2VkLnB1c2goTWF0aC5yb3VuZChwYXJzZUZsb2F0KGgucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyBoLmxlbmd0aCkgKiAxMCkgLyAxMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHNwZWVkKSB7XHJcbiAgICAgICAgICAgIHZhciBzID0gc3BlZWQuc3BsaWNlKDAsIG1lcmdlU2l6ZSk7XHJcbiAgICAgICAgICAgIHZhciB3ID0gd2F0dC5zcGxpY2UoMCwgbWVyZ2VTaXplKTtcclxuICAgICAgICAgICAgaWYgKHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgc3BlZWRNZXJnZWQucHVzaChNYXRoLnJvdW5kKHBhcnNlRmxvYXQocy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGEgKyBiOyB9KSAvIHMubGVuZ3RoKSAqIDEwKSAvIDEwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAody5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB3YXR0TWVyZ2VkLnB1c2goTWF0aC5yb3VuZChwYXJzZUZsb2F0KHcucmVkdWNlKGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBhICsgYjsgfSkgLyB3Lmxlbmd0aCkgKiAxMCkgLyAxMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGN0eCA9ICQoJyNoci1ncmFwaCcpO1xyXG4gICAgdmFyIGxpbmVDaGFydERhdGEgPSB7XHJcbiAgICAgICAgbGFiZWxzOiBsYWJlbHNNZXJnZWQsXHJcbiAgICAgICAgZGF0YXNldHM6IFt7XHJcbiAgICAgICAgICAgIGxhYmVsOiAnSGVhcnQgcmF0ZSAoYnBtKScsXHJcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnI2RjMzU0NScsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNkYzM1NDUnLFxyXG4gICAgICAgICAgICBmaWxsOiBmYWxzZSxcclxuICAgICAgICAgICAgZGF0YTogaHJNZXJnZWQsXHJcbiAgICAgICAgICAgIC8vIGN1YmljSW50ZXJwb2xhdGlvbk1vZGU6ICdtb25vdG9uZScsXHJcbiAgICAgICAgICAgIHlBeGlzSUQ6ICd5LWF4aXMtMScsXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICBsYWJlbDogJ1NwZWVkIChrbS90KScsXHJcbiAgICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAwN2JmZicsXHJcbiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDdiZmYnLFxyXG4gICAgICAgICAgICBmaWxsOiBmYWxzZSxcclxuICAgICAgICAgICAgZGF0YTogc3BlZWRNZXJnZWQsXHJcbiAgICAgICAgICAgIC8vY3ViaWNJbnRlcnBvbGF0aW9uTW9kZTogJ21vbm90b25lJyxcclxuICAgICAgICAgICAgeUF4aXNJRDogJ3ktYXhpcy0yJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxhYmVsOiAnV2F0dCcsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyM0YmMwYzAnLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzRiYzBjMCcsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHdhdHRNZXJnZWQsXHJcbiAgICAgICAgICAgICAgICBsaW5lVGVuc2lvbjogMCxcclxuICAgICAgICAgICAgICAgIC8vY3ViaWNJbnRlcnBvbGF0aW9uTW9kZTogJ21vbm90b25lJyxcclxuICAgICAgICAgICAgICAgIHlBeGlzSUQ6ICd5LWF4aXMtMydcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgbGFiZWw6ICdTdHJva2UgcmF0ZSAoc3BtKScsXHJcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJyM5OTY2RkYnLFxyXG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiAnIzk5NjZGRicsXHJcbiAgICAgICAgICAgICAgICBmaWxsOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHN0cm9rZU1lcmdlZCxcclxuICAgICAgICAgICAgICAgIHlBeGlzSUQ6ICd5LWF4aXMtNCdcclxuICAgICAgICAgICAgfV1cclxuICAgIH07XHJcbiAgICB2YXIgbXlMaW5lQ2hhcnQgPSBDaGFydC5MaW5lKGN0eCwge1xyXG4gICAgICAgIGRhdGE6IGxpbmVDaGFydERhdGEsXHJcbiAgICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgICAgICByZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgICAgICAgICBob3Zlck1vZGU6ICdpbmRleCcsXHJcbiAgICAgICAgICAgIHN0YWNrZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBzY2FsZXM6IHtcclxuICAgICAgICAgICAgICAgIHlBeGVzOiBbe1xyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lYXInLCAvLyBvbmx5IGxpbmVhciBidXQgYWxsb3cgc2NhbGUgdHlwZSByZWdpc3RyYXRpb24uIFRoaXMgYWxsb3dzIGV4dGVuc2lvbnMgdG8gZXhpc3Qgc29sZWx5IGZvciBsb2cgc2NhbGUgZm9yIGluc3RhbmNlXHJcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ2xlZnQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTEnLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3RlZE1pbjogMzAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5OiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAncmlnaHQnLFxyXG4gICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTInLFxyXG4gICAgICAgICAgICAgICAgICAgIHRpY2tzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ZXBTaXplOiAyXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAvLyBncmlkIGxpbmUgc2V0dGluZ3NcclxuICAgICAgICAgICAgICAgICAgICBncmlkTGluZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhd09uQ2hhcnRBcmVhOiBmYWxzZSAvLyBvbmx5IHdhbnQgdGhlIGdyaWQgbGluZXMgZm9yIG9uZSBheGlzIHRvIHNob3cgdXBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTMnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDI1XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGdyaWQgbGluZSBzZXR0aW5nc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBncmlkTGluZXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRyYXdPbkNoYXJ0QXJlYTogZmFsc2UgLy8gb25seSB3YW50IHRoZSBncmlkIGxpbmVzIGZvciBvbmUgYXhpcyB0byBzaG93IHVwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2xpbmVhcicsIC8vIG9ubHkgbGluZWFyIGJ1dCBhbGxvdyBzY2FsZSB0eXBlIHJlZ2lzdHJhdGlvbi4gVGhpcyBhbGxvd3MgZXh0ZW5zaW9ucyB0byBleGlzdCBzb2xlbHkgZm9yIGxvZyBzY2FsZSBmb3IgaW5zdGFuY2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogdHJ1ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICdyaWdodCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAneS1heGlzLTQnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RlcFNpemU6IDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0ZWRNaW46IDEwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBncmlkIGxpbmUgc2V0dGluZ3NcclxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JpZExpbmVzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkcmF3T25DaGFydEFyZWE6IGZhbHNlIC8vIG9ubHkgd2FudCB0aGUgZ3JpZCBsaW5lcyBmb3Igb25lIGF4aXMgdG8gc2hvdyB1cFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfV1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7IGFkZEdyYXBoIH1cclxuIiwiaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4uL3V0aWxzL21hcFV0aWxzJ1xyXG5pbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcclxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJztcclxuaW1wb3J0IHN0cmF2YSBmcm9tICcuLi91dGlscy9zdHJhdmEnO1xyXG5pbXBvcnQgZ3JhcGhVdGlscyBmcm9tICcuLi91dGlscy9ncmFwaFV0aWxzJztcclxuaW1wb3J0IHsgVVBEQVRFX0ZSRVEsIFBBR0VfU0laRSwgUkFUSU9OLCBydW4gfSBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcclxuXHJcbi8qKiBBbGwgbG9hZCBmdW5jdGlvbnMgKi9cclxudmFyIGxvYWRSb3V0ZXMgPSBmdW5jdGlvbigpIHtcclxuICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICQuZ2V0KFwiL3Jvdy9yb3V0ZXNcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgaHRtbCA9ICcnO1xyXG4gICAgICAgIHZhciBpbmRleCA9IDA7XHJcbiAgICAgICAgdmFyIGdyb3VwID0gJyc7XHJcbiAgICAgICAgZGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiAoYS5jb3VudHJ5ID4gYi5jb3VudHJ5KSA/IDEgOiAoKGIuY291bnRyeSA+IGEuY291bnRyeSkgPyAtMSA6IDApOyB9KTtcclxuXHJcbiAgICAgICAgdmFyIHNlbGVjdGVkID0gJ3NlbGVjdGVkPVwic2VsZWN0ZWRcIic7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBpZiAodmFsdWUuY291bnRyeSAhPT0gZ3JvdXApIHtcclxuICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxvcHRncm91cCBsYWJlbD1cIicgKyB2YWx1ZS5jb3VudHJ5ICsgJ1wiPic7XHJcbiAgICAgICAgICAgICAgICBncm91cCA9IHZhbHVlLmNvdW50cnk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHRtbCArPSAnPG9wdGlvbiAnICsgc2VsZWN0ZWQgKyAnIHZhbHVlPVwiJyArIHZhbHVlLmluZGV4ICsgJ1wiIGRhdGEtbmFtZT1cIicgKyB2YWx1ZS5uYW1lICsgJ1wiIGRhdGEtbGF0PVwiJyArXHJcbiAgICAgICAgICAgICAgICB2YWx1ZS5ncHNbMF0ubGF0ICsgJ1wiIGRhdGEtbG9uPVwiJyArIHZhbHVlLmdwc1swXS5sb24gKyAnXCI+JyArIHZhbHVlLm5hbWUgKyAnICgnICsgdmFsdWUubWV0ZXJzICsgJ20pPC9vcHRpb24+JztcclxuICAgICAgICAgICAgc2VsZWN0ZWQgPSAnJztcclxuICAgICAgICAgICAgaW5kZXgrKztcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKHRoYXQpLmh0bWwoaHRtbCk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbnZhciBjcmVhdGVSb3V0ZVJlY29yZCA9IGZ1bmN0aW9uIChodG1sVGFibGUsIGluZGV4LCByb3V0ZSkge1xyXG4gICAgaHRtbFRhYmxlICs9ICc8dHI+JztcclxuICAgIGh0bWxUYWJsZSArPSAnPHRoIHNjb3BlPVwicm93XCI+JyArIChpbmRleCArIDEpICsgJzwvdGg+JztcclxuICAgIC8vaHRtbFRhYmxlICs9ICc8dGQ+PGEgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtcm91dGUtbmFtZT1cIicgKyByb3V0ZS5uYW1lICsgJ1wiIGRhdGEtdGFyZ2V0PVwiI3Nob3ctcm91dGUtbW9kYWxcIiBocmVmPVwiL3JvdXRlcy8nICsgcm91dGUubmFtZSArICdcIj4nICsgcm91dGUubmFtZSArICc8L2E+PC90ZD4nO1xyXG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+PGEgY2xhc3M9XCJyb3V0ZS1kZXRhaWxcIiBkYXRhLXJvdXRlLW5hbWU9XCInICsgcm91dGUubmFtZSArICdcIiBocmVmPVwiP3JvdXRlPScrIHJvdXRlLm5hbWUgKycjcm91dGVkZXRhaWxcIj4nICsgcm91dGUubmFtZSArICc8L2E+PC90ZD4nO1xyXG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+JyArIHBhcnNlSW50KHJvdXRlLm1ldGVycykgKyAnbTwvdGQ+JztcclxuICAgIGh0bWxUYWJsZSArPSAnPHRkPicgKyByb3V0ZS5jb3VudHJ5ICsgJzwvdGQ+JztcclxuICAgIGh0bWxUYWJsZSArPSAnPHRkPidcclxuICAgIGlmIChyb3V0ZS5wZXJtYW5lbnQgIT09IHRydWUpIHtcclxuICAgICAgICBodG1sVGFibGUgKz0gJzxhIGNsYXNzPVwiZWRpdC1yb3V0ZVwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyByb3V0ZS5uYW1lICsgJ1wiPjxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5jcmVhdGU8L2k+PC9hPicgK1xyXG4gICAgICAgICAgICAnPGEgY2xhc3M9XCJkZWwtcm91dGVcIiBocmVmPVwiI1wiIGRhdGEtaWQ9XCInICsgcm91dGUubmFtZSArICdcIj4nICtcclxuICAgICAgICAgICAgJzxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiRGVsZXRlIHJvdXRlXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmRlbGV0ZTwvaT48L2E+JyArICc8L3RkPic7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGh0bWxUYWJsZSArPSAnPGk+RGVmYXVsdDwvaT4nO1xyXG4gICAgfVxyXG4gICAgaHRtbFRhYmxlICs9ICc8L3RyPic7XHJcbiAgICByZXR1cm4gaHRtbFRhYmxlO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gbG9hZFJvdXRlKG1haW5JbmRleCkge1xyXG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvcm91dGUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKCcjcm91dGVzLXQnKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbG9hZFJvdXRlVGFibGUoMCk7XHJcbiAgICAgICAgICAgIHZhciBwYWcgPSAkKCcjcm91dGVzLXRhYmxlJykuZmluZCgnLnBhZ2UnKTtcclxuICAgICAgICAgICAgY3JlYXRlUm91dGVOYXZQYWdlKHBhZ1swXSwgbWFpbkluZGV4KTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVSb3V0ZU5hdlBhZ2UocGFnZSwgaW5kZXgpIHtcclxuICAgIHZhciBodG1sRWxlbWVudCA9ICQoJzx1bCBpZD1cInJvdXRlLXBhZ2VcIiBkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiPjwvdWw+JykuYWRkQ2xhc3MoXCJwYWdpbmF0aW9uIHBhZ2luYXRpb24tbGdcIik7XHJcbiAgICAkLmdldChcInJvdXRlcy9zaXplXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHNpemUgPSBwYXJzZUludChwYXJzZUludChkYXRhKSAvIFBBR0VfU0laRSkgKyAxO1xyXG4gICAgICAgIHZhciBwcmV2RGlzYWJsZWQgPSAoaW5kZXggPT09IDAgPyAnZGlzYWJsZWQnIDogJycpO1xyXG4gICAgICAgIHZhciBuZXh0RGlzYWJsZWQgPSAoaW5kZXggPT09IHNpemUgLSAxID8gJ2Rpc2FibGVkJyA6ICcnKTtcclxuICAgICAgICB2YXIgcHJldiA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgcHJldkRpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgZGF0YS1uZXh0PVwiLTFcIiB0YWJpbmRleD1cIi0xXCI+UHJldmlvdXM8L2E+Jyk7XHJcbiAgICAgICAgdmFyIG5leHQgPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIG5leHREaXNhYmxlZCArICdcIj48L2xpPicpLmFwcGVuZCgnPGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBkYXRhLW5leHQ9XCIxXCIgaHJlZj1cIiNcIj5OZXh0PC9hPicpO1xyXG5cclxuICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQocHJldik7XHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgdmFyIGFjdGl2ZSA9ICcnO1xyXG4gICAgICAgICAgICBpZiAoaW5kZXggPT09IGkpIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZSA9IFwiYWN0aXZlXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIGl0ZW0gPSAkKCc8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJyArIGFjdGl2ZSArICdcIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtaW5kZXg9XCInICsgaSArICdcIiBocmVmPVwiI1wiPicgKyAoaSArIDEpICsgJzwvYT48L2xpPicpO1xyXG4gICAgICAgICAgICBodG1sRWxlbWVudC5hcHBlbmQoaXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChuZXh0KTtcclxuICAgICAgICAkKHBhZ2UpLmh0bWwoaHRtbEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRSb3V0ZVRhYmxlKG1haW5JbmRleCkge1xyXG4gICAgdmFyIHN0YXJ0ID0gbWFpbkluZGV4ICogUEFHRV9TSVpFLCBzdG9wID0gKCgobWFpbkluZGV4ICsgMSkgKiBQQUdFX1NJWkUpKSAtIDE7XHJcbiAgICAkLmdldCgnL3JvdXRlcy8nICsgc3RhcnQgKyAnLycgKyBzdG9wLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHZhciBodG1sVGFibGUgPSAnJztcclxuICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAocm91dGUpIHtcclxuICAgICAgICAgICAgaHRtbFRhYmxlID0gY3JlYXRlUm91dGVSZWNvcmQoaHRtbFRhYmxlLCBpbmRleCArIChtYWluSW5kZXggKiBQQUdFX1NJWkUpLCByb3V0ZSk7XHJcbiAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJyNyb3V0ZXMtdGFibGUtYm9keScpLmh0bWwoaHRtbFRhYmxlKTtcclxuICAgICAgICAkKCcjYWRkLXJvdXRlLW1vZGFsJykub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGxvYWRSb3V0ZSgwKTtcclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGVkaXRSb3V0ZShlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogJy9yb3V0ZXMvJyArIGlkLFxyXG4gICAgICAgIHR5cGU6ICdHRVQnLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgdmFyIGZvcm0gPSAkKFwiI2FkZFJvdXRlXCIpO1xyXG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNuYW1lJykudmFsKHJlc3VsdC5uYW1lKTtcclxuICAgICAgICAgICAgZm9ybS5maW5kKCcjbWV0ZXJzJykudmFsKHJlc3VsdC5tZXRlcnMpO1xyXG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNzZWdtZW50SWQnKS52YWwocmVzdWx0LnNlZ21lbnRJZCk7XHJcbiAgICAgICAgICAgIGZvcm0uZmluZCgnI2NvdW50cmllcycpLnZhbChyZXN1bHQuY291bnRyeSk7XHJcbiAgICAgICAgICAgIC8vZ3BzLnJlcGxhY2UoLyguKiksKC4qKSwoLiopL2dtLCAneyBcImxhdFwiOiAkMSwgXCJsb25cIjogJDIsIFwiZWxcIjogJDMgfSwnKTtcclxuICAgICAgICAgICAgdmFyIGdwc0N2cyA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdC5ncHMpO1xyXG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNncHMnKS5hcHBlbmQoZ3BzQ3ZzKTtcclxuICAgICAgICAgICAgJCgnI2FkZC1yb3V0ZS1tb2RhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNob3dSb3V0ZU1vZGFsKGUpIHtcclxuICAgIHZhciBuYW1lID0gJChlLnJlbGF0ZWRUYXJnZXQpLmRhdGEoJ3JvdXRlLW5hbWUnKTtcclxuICAgIHZhciB0aGF0ID0gJCh0aGlzKTtcclxuICAgICQuZ2V0KFwiL3JvdXRlcy9cIiArIG5hbWUsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdmFyIHRpdGxlID0gZGF0YS5uYW1lO1xyXG4gICAgICAgIGlmIChkYXRhLnNlZ2VtZW50SWQpIHtcclxuICAgICAgICAgICAgdGl0bGUgPSAnPGEgY2xhc3M9XCJzdHJhdmEtc2VnbWVudFwiIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJodHRwczovL3d3dy5zdHJhdmEuY29tL3NlZ21lbnRzLycgKyBkYXRhLnNlZ2VtZW50SWQgKyAnIHRpdGxlPVwiU3RyYXZhIFNlZ21lbnQgVXJsXCIgXCI+JyArIHRpdGxlICsgJyA8L2E+JztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhhdC5maW5kKCcjc2hvdy1yb3V0ZS1tb2RhbC10aXRsZScpLmh0bWwodGl0bGUpO1xyXG4gICAgICAgIHZhciBodG1sID0gJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjxoNSBjbGFzcz1cImNhcmQtdGl0bGVcIj5EaXNwbGF5IExlbmdodDo8L2g1PicgKyBkYXRhLm1ldGVycyArICcgbTwvbGk+JztcclxuICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj48aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+R3BzIExlbmdodDo8L2g1PicgKyBkYXRhLmdwc0xlbmdodCArICcgbTwvbGk+JztcclxuICAgICAgICBodG1sICs9ICc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj48aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+Q291bnRyeTo8L2g1PicgKyBkYXRhLmNvdW50cnkgKyAnPC9saT4nO1xyXG4gICAgICAgIHRoYXQuZmluZCgnLmNhcmQgLmxpc3QtZ3JvdXAnKS5odG1sKGh0bWwpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZVJvdXRlU2VsZWN0KCkge1xyXG4gICAgdmFyIHNlbGVjdGVkID0gJCgnI3JvdXRlcycpLmZpbmQoXCI6c2VsZWN0ZWRcIik7XHJcbiAgICBtYXBVdGlscy5jbGVhbk1hcCgpO1xyXG4gICAgdmFyIG5hbWUgPSBzZWxlY3RlZC5kYXRhKCduYW1lJyk7XHJcbiAgICBtYXBVdGlscy5hZGRSb3V0ZVRyYWNrVG9NYXAobmFtZSwgJChcIiNsaXZlLW1hcFwiKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlbGV0ZVJvdXRlKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcclxuICAgIHZhciByZXN1bHQgPSBjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSByb3V0ZT9cIik7XHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAnL3JvdXRlcy8nICsgaWQsXHJcbiAgICAgICAgICAgIHR5cGU6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICByb3V0ZS5sb2FkUm91dGUoMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc2F2ZVJvdXRlKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGZvcm0gPSAkKFwiI2FkZFJvdXRlXCIpO1xyXG4gICAgdmFyIHJvdXRlID0ge307XHJcbiAgICByb3V0ZS5uYW1lID0gZm9ybS5maW5kKCcjbmFtZScpLnZhbCgpO1xyXG4gICAgcm91dGUubWV0ZXJzID0gZm9ybS5maW5kKCcjbWV0ZXJzJykudmFsKCk7XHJcbiAgICByb3V0ZS5zdHJhdmFJZCA9IGZvcm0uZmluZCgnI3NlZ21lbnRJZCcpLnZhbCgpO1xyXG4gICAgcm91dGUuY291bnRyeSA9IGZvcm0uZmluZCgnI2NvdW50cmllcycpLnZhbCgpO1xyXG4gICAgcm91dGUuZ3BzID0gZm9ybS5maW5kKCd0ZXh0YXJlYScpLnZhbCgpO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB0eXBlOiAnUFVUJyxcclxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgdXJsOiBcIi9yb3V0ZXMvYWRkXCIsXHJcbiAgICAgICAgZGF0YTogSlNPTi5zdHJpbmdpZnkocm91dGUpLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCgnI2FkZC1yb3V0ZS1tb2RhbCcpLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRSb3V0ZURldGFpbChuYW1lKSB7XHJcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9yb3V0ZS9kZXRhaWxzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIG1hcFV0aWxzLmNsZWFuTWFwKCk7XHJcbiAgICAgICAgdmFyIHRhYmxlRnVuY3QgPSBhZGRUb1RhYmxlLmJpbmQoJCh0aGlzKS5maW5kKCcjc3RyYXZhLXJlc3VsdCcpKTtcclxuICAgICAgICBzdHJhdmEubGVhZGVyYm9hcmQobmFtZSwgdGFibGVGdW5jdCk7XHJcbiAgICAgICAgbWFwVXRpbHMuYWRkUm91dGVUcmFja1RvTWFwKG5hbWUsICQoXCIjbGl2ZS1tYXBcIikpO1xyXG4gICAgICAgICQodGhpcykuZmluZCgnI3JvdXRlLXN0YXRzJykuZWFjaChsb2FkUm91dGVTdGF0cy5iaW5kKCh0aGlzKSwgbmFtZSkpO1xyXG4gICAgICAgICQodGhpcykuZmluZCgnI3N0cmF2YS1yZXN1bHQnKS5lYWNoKHJvdXRlLmxvYWRSb3V0ZXMpO1xyXG5cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkUm91dGVTdGF0cyhuYW1lKSB7XHJcbiAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogJy9yb3V0ZXMvJyArIG5hbWUsXHJcbiAgICAgICAgdHlwZTogJ0dFVCcsXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBsZXQgaHRtbCA9ICc8ZGl2IGNsYXNzPVwiY2FyZCBjYXJkLWRlZmF1bHRcIj48ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+PGRpdiBjbGFzcz1cInJvd1wiPidcclxuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImNvbC1tZC01XCI+PGRpdiBjbGFzcz1cInN0YXRpc3RpY1wiPjxkaXYgY2xhc3M9XCJ2YWx1ZVwiPicgKyByZXN1bHQubmFtZSArJzwvZGl2PjxkaXYgY2xhc3M9XCJsYWJlbFwiPk5hbWU8L2Rpdj48L2Rpdj48L2Rpdj4nO1xyXG4gICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiY29sLW1kLTJcIj48ZGl2IGNsYXNzPVwic3RhdGlzdGljXCI+PGRpdiBjbGFzcz1cInZhbHVlXCI+JyArIHJlc3VsdC5tZXRlcnMgKyc8L2Rpdj48ZGl2IGNsYXNzPVwibGFiZWxcIj5MZW5naHQgKG0pPC9kaXY+PC9kaXY+PC9kaXY+JztcclxuICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImNvbC1tZC01XCI+PGRpdiBjbGFzcz1cInN0YXRpc3RpY1wiPjxkaXYgY2xhc3M9XCJ2YWx1ZVwiPicgKyByZXN1bHQuY291bnRyeSArJzwvZGl2PjxkaXYgY2xhc3M9XCJsYWJlbFwiPkNvdW50cnk8L2Rpdj48L2Rpdj48L2Rpdj4nO1xyXG4gICAgICAgICAgICBodG1sICs9ICc8L2Rpdj48L2Rpdj48L2Rpdj4nXHJcbiAgICAgICAgICAgICQodGhhdCkuZmluZCgnI3JvdXRlLXN0YXRzJykuaHRtbChodG1sKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVG9UYWJsZShkYXRhKSB7XHJcbiAgICB2YXIgaHRtbCA9ICcnO1xyXG4gICAgaWYgKGRhdGEuZW50cmllcykge1xyXG4gICAgICAgIGRhdGEuZW50cmllcy5mb3JFYWNoKGZ1bmN0aW9uKGVudHJ5KSB7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8dHI+IDx0aCBzY29wZT1cInJvd1wiPiAnICsgZW50cnkuYXRobGV0ZV9uYW1lICsgJyA8L3RoPjx0ZD4gJyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChlbnRyeS5tb3ZpbmdfdGltZSkpICsgJzwvdGQ+IDx0ZD4nICsgZW50cnkuc3RhcnRfZGF0ZSArJzwvdGQ+PC90cj4nO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdGhpcy5odG1sKGh0bWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvcGVuUm91dGUoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIG5leHQgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ25leHQnKSksIGluZGV4ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCdpbmRleCcpKSxcclxuICAgICAgICBtYWluSW5kZXggPSBwYXJzZUludCgkKCcjcm91dGUtcGFnZScpLmRhdGEoJ2luZGV4JykpO1xyXG4gICAgaWYgKCFpc05hTihuZXh0KSkge1xyXG4gICAgICAgIG1haW5JbmRleCArPSBuZXh0O1xyXG4gICAgfSBlbHNlIGlmICghaXNOYU4oaW5kZXgpKSB7XHJcbiAgICAgICAgbWFpbkluZGV4ID0gaW5kZXg7XHJcbiAgICB9XHJcbiAgICB2YXIgcGFnID0gJCgnI3JvdXRlcy10YWJsZScpLmZpbmQoJy5wYWdlJyk7XHJcbiAgICBjcmVhdGVSb3V0ZU5hdlBhZ2UocGFnWzBdLCBtYWluSW5kZXgpO1xyXG4gICAgbG9hZFJvdXRlVGFibGUobWFpbkluZGV4KTtcclxufVxyXG5cclxudmFyIGNsaWNrUm91dGVEZXRhaWwgPSBmdW5jdGlvbiAoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIG5hbWUgPSAkKHRoaXMpLmRhdGEoJ3JvdXRlLW5hbWUnKTtcclxuICAgIGxvYWRSb3V0ZURldGFpbChuYW1lKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHsgbG9hZFJvdXRlcywgY3JlYXRlUm91dGVSZWNvcmQsIGxvYWRSb3V0ZSwgbG9hZFJvdXRlVGFibGUsXHJcbiAgICAgY3JlYXRlUm91dGVOYXZQYWdlLCBlZGl0Um91dGUsIHNob3dSb3V0ZU1vZGFsLCBjaGFuZ2VSb3V0ZVNlbGVjdCwgZGVsZXRlUm91dGUsXHJcbnNhdmVSb3V0ZSwgb3BlblJvdXRlLCBsb2FkUm91dGVEZXRhaWwsIGNsaWNrUm91dGVEZXRhaWx9IiwiXHJcbnZhciBsb2FkVXNlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdGhhdCA9IHRoaXM7XHJcbiAgICAkLmdldChcIi91c2Vyc1wiLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHZhciBodG1sID0gJyc7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBodG1sICs9ICc8b3B0aW9uIHZhbHVlPVwiJyArIHZhbHVlLmlkICsgJ1wiPicgKyB2YWx1ZS5maXJzdE5hbWUgKyAnICcgKyB2YWx1ZS5sYXN0TmFtZSArICc8L29wdGlvbj4nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCh0aGF0KS5odG1sKGh0bWwpXHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGVkaXRVc2VyKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBpZCA9ICQodGhpcykuZGF0YSgnaWQnKTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiAnL3VzZXJzLycgKyBpZCxcclxuICAgICAgICB0eXBlOiAnR0VUJyxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHZhciBmb3JtID0gJChcIiNhZGRVc2VyRm9ybVwiKTtcclxuICAgICAgICAgICAgZm9ybS5maW5kKCcjZmlyc3ROYW1lJykudmFsKHJlc3VsdC5maXJzdE5hbWUpO1xyXG4gICAgICAgICAgICBmb3JtLmZpbmQoJyNsYXN0TmFtZScpLnZhbChyZXN1bHQubGFzdE5hbWUpO1xyXG4gICAgICAgICAgICBmb3JtLmZpbmQoJyN1c2VySWQnKS52YWwocmVzdWx0LmlkKTtcclxuICAgICAgICAgICAgJC5nZXQoJy9zdHJhdmEvdXJsJywgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBkYXRhLnVybC5yZXBsYWNlKFwiJTI0XCIsIHJlc3VsdC5pZCk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc3RyYXZhLXVybCcpLmF0dHIoJ2hyZWYnLCB1cmwpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdmFyIGNvbm5lY3QgPSAkKFwiLnN0cmF2YS1jb25uZWN0XCIpO1xyXG4gICAgICAgICAgICBjb25uZWN0LnJlbW92ZUNsYXNzKFwic3Itb25seVwiKTtcclxuICAgICAgICAgICAgJCgnI2FkZFVzZXJNb2RhbCcpLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRVc2VyKCkge1xyXG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvdXNlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoJyN1c2Vycy1ib2R5JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICAgICAgICAgJC5nZXQoXCIvdXNlcnMvXCIsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXIgPSBkYXRhW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzx0cj48dGQ+PGEgaHJlZj1cIiNcIiBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjdXNlclN0YXRzTW9kYWxcIiBkYXRhLWlkPVwiJyArIHVzZXIuaWQgKyAnXCI+JyArIChpICsgMSkgKyAnPC9hPjwvdGQ+PHRkPicgKyB1c2VyLmZpcnN0TmFtZSArICc8L3RkPjx0ZD4nICsgdXNlci5sYXN0TmFtZSArICc8L3RkPic7XHJcbiAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPHRkPjxhIGNsYXNzPVwiZWRpdC11c2VyXCIgaHJlZj1cIiNcIiBkYXRhLWlkPVwiJyArIHVzZXIuaWQgKyAnXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmNyZWF0ZTwvaT48L2E+PGEgY2xhc3M9XCJkZWwtdXNlclwiIGhyZWY9XCIjXCIgZGF0YS1pZD1cIicgKyB1c2VyLmlkICsgJ1wiPjxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiRGVsZXRlIHVzZXJcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZGVsZXRlPC9pPjwvYT48L3RkPicgKyAnPC90cj4nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkKHRoYXQpLmh0bWwoaHRtbCk7XHJcbiAgICAgICAgICAgICAgICAkKCcjYWRkVXNlck1vZGFsJykub24oJ2hpZGRlbi5icy5tb2RhbCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbG9hZFVzZXIoKTtcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNhdmVVc2VyKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIGZvcm0gPSAkKFwiI2FkZFVzZXJGb3JtXCIpO1xyXG4gICAgdmFyIGZpcnN0TmFtZSA9IGZvcm0uZmluZCgnI2ZpcnN0TmFtZScpLnZhbCgpO1xyXG4gICAgdmFyIGxhc3ROYW1lID0gZm9ybS5maW5kKCcjbGFzdE5hbWUnKS52YWwoKTtcclxuICAgIHZhciBpZCA9IGZvcm0uZmluZCgnI3VzZXJJZCcpLnZhbCgpO1xyXG4gICAgdmFyIHVzZXIgPSB7fTtcclxuICAgIHVzZXIuZmlyc3ROYW1lID0gZmlyc3ROYW1lO1xyXG4gICAgdXNlci5sYXN0TmFtZSA9IGxhc3ROYW1lO1xyXG4gICAgdXNlci5pZCA9IGlkO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB0eXBlOiAnUFVUJyxcclxuICAgICAgICBjb250ZW50VHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXHJcbiAgICAgICAgdXJsOiBcIi91c2Vycy9hZGRcIixcclxuICAgICAgICBkYXRhOiBKU09OLnN0cmluZ2lmeSh1c2VyKSxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQoJyNhZGRVc2VyTW9kYWwnKS5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gZGVsZXRlVXNlcihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgaWQgPSAkKHRoaXMpLmRhdGEoJ2lkJyk7XHJcbiAgICB2YXIgcmVzdWx0ID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGU/XCIpO1xyXG4gICAgaWYgKHJlc3VsdCkge1xyXG4gICAgICAgICQuYWpheCh7XHJcbiAgICAgICAgICAgIHVybDogJy91c2Vycy8nICsgaWQsXHJcbiAgICAgICAgICAgIHR5cGU6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICB1c2VyLmxvYWRVc2VyKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHsgbG9hZFVzZXJzLCBsb2FkVXNlciwgZWRpdFVzZXIsIHNhdmVVc2VyLCBkZWxldGVVc2VyIH0iLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi4vdXRpbHMvdXRpbHMnO1xyXG5pbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04gfSBmcm9tICcuLi91dGlscy9nbG9iYWxzJztcclxuXHJcblxyXG5mdW5jdGlvbiBsb2FkSGlzdG9yeUluZGV4KGluZGV4KSB7XHJcbiAgICBsb2FkSGlzdG9yeShpbmRleCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRIaXN0b3J5KG1haW5JbmRleCkge1xyXG4gICAgJCgnI2xvYWQnKS5sb2FkKCcvaGlzdG9yeScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoJyNoaXN0b3J5JykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxvYWRMYXN0M1Nlc3Npb25zKCk7XHJcbiAgICAgICAgICAgIGxvYWRIaXN0b3J5TGlzdCgkKHRoaXMpLCBtYWluSW5kZXgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRMYXN0M1Nlc3Npb25zKCkge1xyXG4gICAgJC5nZXQoJy9zZXNzaW9uLycgKyAwICsgJy8nICsgMiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgaHRtbENhcmRzID0gJyc7XHJcbiAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChzZXNzaW9uKSB7XHJcbiAgICAgICAgICAgIGh0bWxDYXJkcyA9IGNyZWF0ZUNhcmQoaHRtbENhcmRzLCBzZXNzaW9uKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnI2NhcmRzJykuaHRtbCgnPGRpdiBjbGFzcz1cImNvbFwiPjxkaXYgY2xhc3M9XCJjYXJkLWRlY2tcIj4nICsgaHRtbENhcmRzICsgJzwvZGl2PjwvZGl2PicpO1xyXG4gICAgICAgICQoJy5ncHgtdHJhY2snKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS50cmlnZ2VyKFwibG9hZC1tYXBcIiwgdGhpcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZEhpc3RvcnlMaXN0KHRoYXQsIG1haW5JbmRleCkge1xyXG4gICAgdmFyIHN0YXJ0ID0gbWFpbkluZGV4ICogUEFHRV9TSVpFLCBzdG9wID0gKCgobWFpbkluZGV4ICsgMSkgKiBQQUdFX1NJWkUpKSAtIDE7XHJcbiAgICAkLmdldCgnL3Nlc3Npb24vJyArIHN0YXJ0ICsgJy8nICsgc3RvcCwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAkLmdldCgnL3VzZXJzJywgZnVuY3Rpb24gKHVzZXJzKSB7XHJcbiAgICAgICAgICAgIHZhciBodG1sVGFibGUgPSAnJywgaW5kZXggPSAwO1xyXG4gICAgICAgICAgICB2YXIgdXNlck1hcCA9IHVzZXJzLnJlZHVjZShmdW5jdGlvbihtYXAsIG9iaikge1xyXG4gICAgICAgICAgICAgICAgbWFwW29iai5pZF0gPSBvYmo7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbWFwO1xyXG4gICAgICAgICAgICB9LCB7fSk7XHJcbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoc2Vzc2lvbikge1xyXG4gICAgICAgICAgICAgICAgaHRtbFRhYmxlID0gY3JlYXRlTGFwVGFibGVSZWNvcmQoaHRtbFRhYmxlLCBpbmRleCArIChtYWluSW5kZXggKiBQQUdFX1NJWkUpLCBzZXNzaW9uLCB1c2VyTWFwKTtcclxuICAgICAgICAgICAgICAgIGluZGV4Kys7XHJcbiAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgJCgnI2hpc3Rvci10YWJsZS1ib2R5JykuaHRtbChodG1sVGFibGUpO1xyXG4gICAgICAgICAgICB2YXIgcGFnID0gdGhhdC5maW5kKCcucGFnZScpO1xyXG4gICAgICAgICAgICBjcmVhdGVIaXN0b3J5TmF2UGFnZShwYWcsIG1haW5JbmRleCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbkhpc3RvcnkoZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgdmFyIG5leHQgPSBwYXJzZUludCgkKHRoaXMpLmRhdGEoJ25leHQnKSksIGluZGV4ID0gcGFyc2VJbnQoJCh0aGlzKS5kYXRhKCdpbmRleCcpKSxcclxuICAgICAgICBtYWluSW5kZXggPSBwYXJzZUludCgkKCcjaGlzdG9yeS1wYWdlJykuZGF0YSgnaW5kZXgnKSk7XHJcbiAgICBpZiAoIWlzTmFOKG5leHQpKSB7XHJcbiAgICAgICAgbWFpbkluZGV4ICs9IG5leHQ7XHJcbiAgICB9IGVsc2UgaWYgKCFpc05hTihpbmRleCkpIHtcclxuICAgICAgICBtYWluSW5kZXggPSBpbmRleDtcclxuICAgIH1cclxuICAgIGxvYWRIaXN0b3J5TGlzdCgkKCcjaGlzdG9yeS10YWJsZScpLCBtYWluSW5kZXgpO1xyXG59XHJcblxyXG5cclxudmFyIGNyZWF0ZUNhcmQgPSBmdW5jdGlvbiAoaHRtbENhcmRzLCBzZXNzaW9uKSB7XHJcbiAgICBodG1sQ2FyZHMgKz0gJzxkaXYgY2xhc3M9XCJjYXJkIGdweC10cmFja1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCJcIj4nO1xyXG4gICAgaHRtbENhcmRzICs9ICc8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+JztcclxuICAgIGh0bWxDYXJkcyArPSAnPGRpdiBjbGFzcz1cImNhcmQtbWFwLXRvcCBcIj48L2Rpdj4nO1xyXG4gICAgaHRtbENhcmRzICs9ICc8aDUgY2xhc3M9XCJjYXJkLXRpdGxlIG10LTJcIj48YSBjbGFzcz1cInNlc3Npb25zXCIgZGF0YS1uYW1lPVwiJyArIHNlc3Npb24ubmFtZSArICdcIiBocmVmPVwiL3Nlc3Npb25cIj4nICsgdXRpbHMuc2Vzc2lvbk5hbWVUb1JlYWRhYmxlKHNlc3Npb24ubmFtZSkgKyAnPC9hPjwvaDU+JztcclxuICAgIGh0bWxDYXJkcyArPSAnPHAgY2xhc3M9XCJjYXJkLXRleHRcIj5MZW5ndGg6ICcgKyBwYXJzZUludChzZXNzaW9uLmVuZFN0YXRzLm1ldGVycykgKyAnbSwgVGltZTogJyArIHV0aWxzLmZtdE1TUyhwYXJzZUludChzZXNzaW9uLmVuZFN0YXRzLnNlY29uZHMpKSArICc8L3A+JztcclxuICAgIGh0bWxDYXJkcyArPSAnPGEgaHJlZj1cIi9zdHJhdmEvdXBsb2FkLycgKyBzZXNzaW9uLm5hbWUgKyAnXCIgY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgc3RyYXZhIGJ0bi1ibG9ja1wiPlVwbG9hZCB0byBTdHJhdmE8L2E+JztcclxuICAgIGh0bWxDYXJkcyArPSAnPC9kaXY+JztcclxuICAgIGh0bWxDYXJkcyArPSAnPC9kaXY+JztcclxuICAgIHJldHVybiBodG1sQ2FyZHM7XHJcbn07XHJcblxyXG52YXIgY3JlYXRlTGFwVGFibGVSZWNvcmQgPSBmdW5jdGlvbiAoaHRtbFRhYmxlLCBpbmRleCwgc2Vzc2lvbiwgdXNlck1hcCkge1xyXG4gICAgdmFyIHVzZXIgPSB1c2VyTWFwW3Nlc3Npb24udXNlcl07XHJcbiAgICBodG1sVGFibGUgKz0gJzx0cj4nO1xyXG4gICAgaHRtbFRhYmxlICs9ICc8dGggc2NvcGU9XCJyb3dcIj4nICsgKGluZGV4ICsgMSkgKyAnPC90aD4nO1xyXG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+PGEgY2xhc3M9XCJzZXNzaW9uc1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCIgaHJlZj1cIi8/bmFtZT0nK3Nlc3Npb24ubmFtZSsnI3Nlc3Npb25cIj4nICsgdXRpbHMuc2Vzc2lvbk5hbWVUb1JlYWRhYmxlKHNlc3Npb24ubmFtZSkgKyAnPC9hPjwvdGQ+JztcclxuICAgIGh0bWxUYWJsZSArPSAnPHRkPkxlbmd0aDogJyArIHBhcnNlSW50KHNlc3Npb24uZW5kU3RhdHMubWV0ZXJzKSArICdtPC90ZD4nO1xyXG4gICAgaWYgKHVzZXIpIHtcclxuICAgICAgICBodG1sVGFibGUgKz0gJzx0ZD4nICsgdXNlci5maXJzdE5hbWUgKyAnICcgKyB1c2VyLmxhc3ROYW1lICsgJzwvdGQ+JztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgaHRtbFRhYmxlICs9ICc8dGQ+PC90ZD4nO1xyXG4gICAgfVxyXG4gICAgaHRtbFRhYmxlICs9ICc8dGQ+IDxhIGhyZWY9XCIvc2Vzc2lvbnMvJyArIHNlc3Npb24ubmFtZSArICcuZ3B4XCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0zNlwiPmZpbGVfZG93bmxvYWQ8L2k+PGEgY2xhc3M9XCJzdHJhdmFcIiBocmVmPVwiL3N0cmF2YS91cGxvYWQvJyArIHNlc3Npb24ubmFtZSArICdcIj4nICtcclxuICAgICAgICAnPGkgYXJpYS1oaWRkZW49XCJ0cnVlXCIgdGl0bGU9XCJVcGxvYWQgdG8gU3RyYXZhXCIgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyBtZC0zNiBzdHJhdmEtaWNvblwiPmNsb3VkX3VwbG9hZDwvaT48L2E+IDxhIGNsYXNzPVwiZGVsLXNlc3Npb25cIiBocmVmPVwiI1wiIGRhdGEtbmFtZT1cIicgKyBzZXNzaW9uLm5hbWUgKyAnXCI+JyArXHJcbiAgICAgICAgJzxpIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIHRpdGxlPVwiRGVsZXRlIHNlc3Npb24gbG9jYWxcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zIG1kLTM2XCI+ZGVsZXRlPC9pPjwvYT48L3RkPic7XHJcbiAgICBodG1sVGFibGUgKz0gJzwvdHI+JztcclxuICAgIHJldHVybiBodG1sVGFibGU7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVIaXN0b3J5TmF2UGFnZShwYWdlLCBpbmRleCkge1xyXG4gICAgdmFyIGh0bWxFbGVtZW50ID0gJCgnPHVsIGlkPVwiaGlzdG9yeS1wYWdlXCIgZGF0YS1pbmRleD1cIicgKyBpbmRleCArICdcIj48L3VsPicpLmFkZENsYXNzKFwicGFnaW5hdGlvbiBwYWdpbmF0aW9uLWxnXCIpO1xyXG4gICAgJC5nZXQoXCJzZXNzaW9uL3NpemVcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgc2l6ZSA9IHBhcnNlSW50KHBhcnNlSW50KGRhdGEpIC8gUEFHRV9TSVpFKSArIDE7XHJcbiAgICAgICAgdmFyIHByZXZEaXNhYmxlZCA9IChpbmRleCA9PT0gMCA/ICdkaXNhYmxlZCcgOiAnJyk7XHJcbiAgICAgICAgdmFyIG5leHREaXNhYmxlZCA9IChpbmRleCA9PT0gc2l6ZSAtIDEgPyAnZGlzYWJsZWQnIDogJycpO1xyXG4gICAgICAgIHZhciBwcmV2ID0gJCgnPGxpIGNsYXNzPVwicGFnZS1pdGVtICcgKyBwcmV2RGlzYWJsZWQgKyAnXCI+PC9saT4nKS5hcHBlbmQoJzxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cIiNcIiBkYXRhLW5leHQ9XCItMVwiIHRhYmluZGV4PVwiLTFcIj5QcmV2aW91czwvYT4nKTtcclxuICAgICAgICB2YXIgbmV4dCA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgbmV4dERpc2FibGVkICsgJ1wiPjwvbGk+JykuYXBwZW5kKCc8YSBjbGFzcz1cInBhZ2UtbGlua1wiIGRhdGEtbmV4dD1cIjFcIiBocmVmPVwiI1wiPk5leHQ8L2E+Jyk7XHJcblxyXG4gICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChwcmV2KTtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykge1xyXG4gICAgICAgICAgICB2YXIgYWN0aXZlID0gJyc7XHJcbiAgICAgICAgICAgIGlmIChpbmRleCA9PT0gaSkge1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlID0gXCJhY3RpdmVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgaXRlbSA9ICQoJzxsaSBjbGFzcz1cInBhZ2UtaXRlbSAnICsgYWN0aXZlICsgJ1wiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgZGF0YS1pbmRleD1cIicgKyBpICsgJ1wiIGhyZWY9XCIjXCI+JyArIChpICsgMSkgKyAnPC9hPjwvbGk+Jyk7XHJcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LmFwcGVuZChpdGVtKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaHRtbEVsZW1lbnQuYXBwZW5kKG5leHQpO1xyXG4gICAgICAgICQocGFnZSkuaHRtbChodG1sRWxlbWVudCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHsgbG9hZEhpc3RvcnlJbmRleCwgbG9hZEhpc3RvcnksIGxvYWRIaXN0b3J5TGlzdCwgb3Blbkhpc3RvcnkgfSIsImltcG9ydCB1dGlscyBmcm9tICcuLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBncmFwaFV0aWxzIGZyb20gJy4uL3V0aWxzL2dyYXBoVXRpbHMnO1xyXG5pbXBvcnQgeyBVUERBVEVfRlJFUSwgUEFHRV9TSVpFLCBSQVRJT04sIHJ1biB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xyXG5pbXBvcnQgZnJvbnQgZnJvbSAnLi4vZnJvbnQvaW5kZXgnO1xyXG5pbXBvcnQgcm91dGUgZnJvbSAnLi4vcm91dGUvaW5kZXgnO1xyXG5pbXBvcnQgdXNlciBmcm9tICcuLi91c2VyL2luZGV4JztcclxuaW1wb3J0IG1hcFV0aWxzIGZyb20gJy4uL3V0aWxzL21hcFV0aWxzJ1xyXG5pbXBvcnQgbWFwIGZyb20gJy4uL21hcC9pbmRleCdcclxuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi4vaGlzdG9yeS9pbmRleCdcclxuXHJcblxyXG5mdW5jdGlvbiBsb2FkU2Vzc2lvbihuYW1lKSB7XHJcbiAgICAkKCcjbG9hZCcpLmxvYWQoJy9zZXNzaW9ucycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoJyNyb3V0ZXMnKS5lYWNoKHJvdXRlLmxvYWRSb3V0ZXMpO1xyXG4gICAgICAgICQodGhpcykuZmluZCgnI3Nlc3Npb24tdXNlcicpLmVhY2godXNlci5sb2FkVXNlcnMpO1xyXG4gICAgICAgICQodGhpcykuZmluZCgnI2hpc3Rvcnktc2Vzc2lvbicpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBcIkhpc3RvcnlcIjtcclxuICAgICAgICAgICAgJC5nZXQoXCIvc2Vzc2lvbi9cIiArIG5hbWUsIGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGZyb250LmdldEh0bWwodGl0bGUsIGRhdGEuZW5kU3RhdHMsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgJCgnI3JvdXRlcycpLnZhbChkYXRhLnJvdXRlKTtcclxuICAgICAgICAgICAgICAgICQoJyNzZXNzaW9uLXVzZXInKS52YWwoZGF0YS51c2VyKTtcclxuICAgICAgICAgICAgICAgIGlmIChodG1sKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnI3RhYmxlLWNvbnRlbnQnKS5odG1sKGh0bWwpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJyNsYXBzLWJvZHknKS5odG1sKGdldExhcEh0bWwodGl0bGUsIGRhdGEuZW5kU3RhdHMpKTtcclxuICAgICAgICAgICAgICAgICAgICBtYXBVdGlscy5hZGRHcHhUcmFja1RvTWFwKG5hbWUsICQoXCIjbGl2ZS1tYXBcIikpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZ3JhcGhVdGlscy5hZGRHcmFwaChkYXRhLnJhdywgZGF0YS5yYXdIciwgcGFyc2VJbnQoZGF0YS5zdGFydCksIGRhdGEuc3Ryb2tlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TGFwSHRtbChsYWJlbCwganNvbiwgcmV2ZXJzZSkge1xyXG4gICAgdmFyIGh0bWwgPSAnJztcclxuICAgIGlmIChwYXJzZUludChqc29uLnRvdGFsTGFwcykgPiAwKSB7XHJcbiAgICAgICAgdmFyIGxhcE51bSA9IDE7XHJcbiAgICAgICAgdmFyIGxhcHMgPSBqc29uLmxhcHM7XHJcbiAgICAgICAgaWYgKHJldmVyc2UpIHtcclxuICAgICAgICAgICAgbGFwcy5yZXZlcnNlKCk7XHJcbiAgICAgICAgICAgIGxhcE51bSA9IGxhcHMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsYXBzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8dHI+PHRoIHNjb3BlPVwicm93XCI+JyArIGxhcE51bSArICc8L3RoPjx0ZD4nICsgcGFyc2VJbnQodmFsdWUubWV0ZXJzKSArICc8L3RkPjx0ZD4nICsgdXRpbHMuZm10TVNTKHBhcnNlSW50KHZhbHVlLnNlY29uZHMpKSArICc8L3RkPic7XHJcbiAgICAgICAgICAgICAgICBodG1sICs9ICc8dGQ+JyArIE1hdGgucm91bmQocGFyc2VGbG9hdCh2YWx1ZS53YXR0KSAqIDEwKSAvIDEwICsgJ3c8L3RkPjwvdHI+JztcclxuICAgICAgICAgICAgICAgIGlmIChyZXZlcnNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGFwTnVtLS07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGxhcE51bSsrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKTtcclxuICAgIH1cclxuICAgIHJldHVybiBodG1sO1xyXG59XHJcblxyXG5cclxudmFyIGNsaWNrU2Vzc2lvbiA9IGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgbmFtZSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xyXG4gICAgbG9hZFNlc3Npb24obmFtZSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBkZWxldGVTZXNzaW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBuYW1lID0gJCh0aGlzKS5kYXRhKCduYW1lJyk7XHJcbiAgICB2YXIgcmVzdWx0ID0gY29uZmlybShcIkFyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgc2Vzc2lvbj9cIik7XHJcbiAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgJC5hamF4KHtcclxuICAgICAgICAgICAgdXJsOiAnL3Nlc3Npb24vZGVsLycgKyBuYW1lLFxyXG4gICAgICAgICAgICB0eXBlOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJTZXNzaW9uIGRlbGV0ZWRcIik7XHJcbiAgICAgICAgICAgICAgICBoaXN0b3J5LmxvYWRIaXN0b3J5SW5kZXgoMCwgMCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkU2Vzc2lvbiwgY2xpY2tTZXNzaW9uLCBnZXRMYXBIdG1sLCBkZWxldGVTZXNzaW9uIH0iLCJpbXBvcnQgcm91dGUgZnJvbSAnLi4vcm91dGUvaW5kZXgnO1xyXG5pbXBvcnQgdXNlciBmcm9tICcuLi91c2VyL2luZGV4JztcclxuaW1wb3J0IHV0aWxzIGZyb20gJy4uL3V0aWxzL3V0aWxzJ1xyXG5pbXBvcnQgbWFwVXRpbHMgZnJvbSAnLi4vdXRpbHMvbWFwVXRpbHMnXHJcbmltcG9ydCBnbG9iYWxzIGZyb20gJy4uL3V0aWxzL2dsb2JhbHMnO1xyXG5pbXBvcnQgc2Vzc2lvbiBmcm9tICcuLi9zZXNzaW9uL2luZGV4JztcclxuaW1wb3J0IG1hcCBmcm9tICcuLi9tYXAvaW5kZXgnXHJcbmltcG9ydCBoaXN0b3J5IGZyb20gJy4uL2hpc3RvcnkvaW5kZXgnXHJcblxyXG52YXIgdGltZU91dDtcclxuXHJcbmxldCBzZXRVc2VyQW5kUm91dGUgPSBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgbGV0IHVzZXIgPSBkYXRhLnVzZXI7XHJcbiAgICBsZXQgcm91dGVJZCA9IGRhdGEucm91dGU7XHJcblxyXG4gICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAkKFwiI3Nlc3Npb24tdXNlclwiKS52YWwodXNlcik7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHJvdXRlSWQpIHtcclxuICAgICAgICAkKFwiI3JvdXRlc1wiKS52YWwocm91dGVJZCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBsb2FkTWFpbigpIHtcclxuICAgICQoJyNsb2FkJykubG9hZCgnL21haW4nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHRoYXQgPSAkKHRoaXMpO1xyXG5cclxuICAgICAgICAkLndoZW4oXHJcbiAgICAgICAgICAgIHRoYXQuZmluZCgnI3JvdXRlcycpLmVhY2gocm91dGUubG9hZFJvdXRlcyksXHJcbiAgICAgICAgdGhhdC5maW5kKCcjc2Vzc2lvbi11c2VyJykuZWFjaCh1c2VyLmxvYWRVc2VycykpLmRvbmUoXHJcblxyXG4gICAgICAgICQuZ2V0KFwiL3Jvdy9zdGF0dXNcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgbGV0IHJvd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5zdGF0dXMgPT09ICdST1dJTkcnKSB7XHJcbiAgICAgICAgICAgICAgICByb3dpbmcgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIHN0YXJ0QnV0dG9uID0gJCgnI3N0YXJ0Um93Jyk7XHJcbiAgICAgICAgICAgICAgICBpZiAodXRpbHMuZ2V0VXJsUGFyYW1ldGVyKFwidGVzdFwiKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0QnV0dG9uID0gJCgnI3N0YXJ0U2ltdWxhdG9yJylcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHN0YXJ0KHN0YXJ0QnV0dG9uLCB0cnVlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHJvdXRlLmNoYW5nZVJvdXRlU2VsZWN0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgc2V0VXNlckFuZFJvdXRlKGRhdGEpO1xyXG4gICAgICAgIH0pKTtcclxuXHJcbiAgICAgICAgLy9SdW4gc2ltdWxhdG9yIGlmIHRlc3QuXHJcbiAgICAgICAgaWYgKHV0aWxzLmdldFVybFBhcmFtZXRlcihcInRlc3RcIikpIHtcclxuICAgICAgICAgICAgJCgnI3N0YXJ0Um93JykuYXR0cihcImlkXCIsIFwic3RhcnRTaW11bGF0b3JcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwbG9hZFRvU3RyYXZhKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHZhciBocmVmID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7XHJcbiAgICAkLmdldChocmVmLCBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGFsZXJ0KFwiVXBsb2FkZWQgdG8gc3RyYXZhIVwiKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGFydFJvdyhlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICB2YXIgcm91dGVzID0gJCgnI3JvdXRlcycpLnZhbCgpO1xyXG4gICAgdmFyIHVzZXJJZCA9ICQoJyNzZXNzaW9uLXVzZXInKS52YWwoKTtcclxuICAgIHZhciB0aGF0ID0gdGhpcztcclxuICAgICQuZ2V0KFwiL3Jvdy9zdGFydFwiLCB7IHJvdXRlczogcm91dGVzLCB1c2VyOiB1c2VySWQgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHN0YXJ0KHRoYXQpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3BSb3coZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJCgnI21haW4tbmF2Jykuc2hvdygpO1xyXG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgkKCcjbWFpbi1uYXYnKS5vZmZzZXQoKS50b3ApO1xyXG4gICAgdmFyIHRoYXQgPSAkKHRoaXMpO1xyXG4gICAgY2xlYXJUaW1lb3V0KHRpbWVPdXQpO1xyXG4gICAgZ2xvYmFscy5ydW4gPSBmYWxzZTtcclxuICAgIHZhciByb3V0ZXMgPSAkKCcjcm91dGVzJykudmFsKCk7XHJcbiAgICB2YXIgdXNlciA9ICQoJyNzZXNzaW9uLXVzZXInKS52YWwoKTtcclxuICAgICQuZ2V0KFwiL3Jvdy9zdG9wXCIsIHsgcm91dGVzOiByb3V0ZXMsIHVzZXI6IHVzZXIgfSwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAkKCcjdGFibGUtY29udGVudCcpLmh0bWwoZ2V0SHRtbChcIlN0b3BwZWRcIiwgZGF0YSwgZmFsc2UpKTtcclxuICAgICAgICB2YXIgc3RhcnRSb3cgPSAkKFwiI3N0YXJ0Um93XCIpO1xyXG4gICAgICAgIHN0YXJ0Um93LnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgc3RhcnRSb3cucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIHN0YXJ0Um93Lmh0bWwoJ1N0YXJ0IHJvdycpO1xyXG4gICAgICAgIHRoYXQuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICQoJyNyb3V0ZXMnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICQoJyNzZXNzaW9uLXVzZXInKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICQoXCIjc3RhcnRTaW11bGF0b3JcIikucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGFydChzdGFydEJ1dHRvbiwgbG9hZE1hcD1mYWxzZSkge1xyXG4gICAgJCgnI21haW4tbmF2JykuaGlkZSgpO1xyXG4gICAgJCh3aW5kb3cpLnNjcm9sbFRvcCgkKCcjbWFpbicpLm9mZnNldCgpLnRvcCk7IC8vU2Nyb2xsXHJcbiAgICBpZiAobG9hZE1hcCkge1xyXG4gICAgICAgIG1hcFV0aWxzLmNsZWFuTWFwKCk7XHJcbiAgICAgICAgdmFyIHJvd0luZm8gPSBnZXRfcm93SW5mby5iaW5kKG51bGwsIHRydWUsIFwiUm93aW5nXCIpO1xyXG4gICAgICAgIG1hcFV0aWxzLmFkZFNlc3Npb25UcmFja1RvTWFwKHJvd0luZm8pO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZ2V0X3Jvd0luZm8odHJ1ZSwgXCJSb3dpbmdcIik7XHJcbiAgICAgICAgbWFwVXRpbHMuY2xlYW5NYXAoKTtcclxuICAgIH1cclxuICAgICQoJyNyb3V0ZXMnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgJCgnI3Nlc3Npb24tdXNlcicpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAkKFwiI3N0YXJ0U2ltdWxhdG9yXCIpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAkKHN0YXJ0QnV0dG9uKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgJChzdGFydEJ1dHRvbikuaHRtbCgnUm93aW5nLi4uJyk7XHJcbiAgICAkKHN0YXJ0QnV0dG9uKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAkKCcjc3RvcFJvdycpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0X3Jvd0luZm8oY29udGludWVzLCB0aXRsZSkge1xyXG4gICAgZ2xvYmFscy5ydW4gPSBjb250aW51ZXM7XHJcbiAgICAkLmdldChcIi9yb3dcIiwgZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB2YXIgaHRtbCA9IGdldEh0bWwodGl0bGUsIGRhdGEpO1xyXG4gICAgICAgIGlmIChodG1sKSB7XHJcbiAgICAgICAgICAgICQoJyN0YWJsZS1jb250ZW50JykuaHRtbChodG1sKTtcclxuICAgICAgICAgICAgJCgnI2xhcHMtYm9keScpLmh0bWwoc2Vzc2lvbi5nZXRMYXBIdG1sKHRpdGxlLCBkYXRhLCB0cnVlKSk7XHJcbiAgICAgICAgICAgIHZhciBsYXQgPSBkYXRhLmdwcy5sYXQ7XHJcbiAgICAgICAgICAgIHZhciBsb24gPSBkYXRhLmdwcy5sb247XHJcbiAgICAgICAgICAgIHZhciBwID0gbmV3IGdvb2dsZS5tYXBzLkxhdExuZyhsYXQsIGxvbik7XHJcbiAgICAgICAgICAgIGlmIChtYXAubWFya2Vycy5sZW5ndGggPCBkYXRhLnRvdGFsTGFwcyApIHtcclxuICAgICAgICAgICAgICAgIG1hcFV0aWxzLmFkZE1hcmtlcihwLCBcIlJ1bmRlOiBcIiArIGRhdGEudG90YWxMYXBzLCBTdHJpbmcoZGF0YS50b3RhbExhcHMpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBtYXAubGl2ZVBvaW50cy5wdXNoKHApO1xyXG4gICAgICAgICAgICBpZiAobWFwLmxpdmVCb3VuZHMpIHtcclxuICAgICAgICAgICAgICAgIG1hcC5saXZlQm91bmRzLmV4dGVuZChwKTtcclxuICAgICAgICAgICAgICAgIHZhciBwb2x5ID0gbWFwVXRpbHMuY3JlYXRlUG9seUxpbmUobWFwLmxpdmVQb2ludHMpO1xyXG4gICAgICAgICAgICAgICAgcG9seS5zZXRNYXAobWFwLmxpdmVNYXApO1xyXG4gICAgICAgICAgICAgICAgbWFwLmxpdmVNYXAuZml0Qm91bmRzKG1hcC5saXZlQm91bmRzKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcbiAgICB9KS5kb25lKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoZ2xvYmFscy5ydW4pIHtcclxuICAgICAgICAgICAgdGltZU91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBnZXRfcm93SW5mbyh0cnVlLCB0aXRsZSk7IH0sIGdsb2JhbHMuVVBEQVRFX0ZSRVEpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkKCkge1xyXG4gICAgdmFyIGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcclxuICAgIHN3aXRjaCAoaGFzaCkge1xyXG4gICAgICAgIGNhc2UgJyNyb3V0ZSc6XHJcbiAgICAgICAgICAgIHJvdXRlLmxvYWRSb3V0ZSgwKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnI3VzZXInOlxyXG4gICAgICAgICAgICB1c2VyLmxvYWRVc2VyKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJyNoaXN0b3J5JzpcclxuICAgICAgICAgICAgaGlzdG9yeS5sb2FkSGlzdG9yeSgwKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnI3Nlc3Npb24nOlxyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IHV0aWxzLlF1ZXJ5U3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5ocmVmKVtcIm5hbWVcIl0ucmVwbGFjZSgnI3Nlc3Npb24nLFwiXCIpO1xyXG4gICAgICAgICAgICBzZXNzaW9uLmxvYWRTZXNzaW9uKG5hbWUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICcjcm91dGVkZXRhaWwnOlxyXG4gICAgICAgICAgICByb3V0ZS5sb2FkUm91dGVEZXRhaWwodXRpbHMuUXVlcnlTdHJpbmcod2luZG93LmxvY2F0aW9uLmhyZWYpW1wicm91dGVcIl0pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBsb2FkTWFpbigpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gZ2V0SHRtbChsYWJlbCwganNvbiwgZGF5KSB7XHJcbiAgICBpZiAocGFyc2VJbnQoanNvbi5tZXRlcnMpID09PSAwKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIGh0bWwgPSAnJztcclxuICAgIGlmIChkYXkpIHtcclxuICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+RGF5PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBqc29uLnN0YXJ0LnN1YnN0cigyLCBqc29uLnN0YXJ0Lmxhc3RJbmRleE9mKCdUJykgLSAyKSArICc8L2Rpdj48L2Rpdj4nO1xyXG4gICAgfVxyXG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlN0YXJ0OjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsganNvbi5zdGFydC5zdWJzdHIoanNvbi5zdGFydC5sYXN0SW5kZXhPZignVCcpICsgMSwgOCkgKyAnPC9kaXY+PC9kaXY+JztcclxuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj5UaW1lOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgdXRpbHMuZm10TVNTKHBhcnNlSW50KGpzb24uc2Vjb25kcykpICsgJzwvZGl2PjwvZGl2Pic7XHJcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+TGVuZ3RoOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgcGFyc2VJbnQoanNvbi5tZXRlcnMpICsgJyBtICgnICsganNvbi5wZXJjZW50ICsgJyk8L2Rpdj48L2Rpdj4nO1xyXG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlBhY2U6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi5wYWNlKSAqIDMuNiAqIDEwKSAvIDEwICsgJyBrbS90PC9kaXY+PC9kaXY+JztcclxuICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJyb3dcIj48ZGl2IGNsYXNzPVwiY29sLXNtLTRcIj41MDBtOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgdXRpbHMuZm10TVNTKHBhcnNlSW50KGpzb24ubGFwUGFjZSkpICsgJzwvZGl2PjwvZGl2Pic7XHJcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+Mms6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyB1dGlscy5mbXRNU1MocGFyc2VJbnQoanNvbi50b3dLUGFjZSkpICsgJzwvZGl2PjwvZGl2Pic7XHJcbiAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwicm93XCI+PGRpdiBjbGFzcz1cImNvbC1zbS00XCI+QXZnLlc6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPicgKyBNYXRoLnJvdW5kKHBhcnNlRmxvYXQoanNvbi53YXR0KSAqIDEwKSAvIDEwICsgJ3c8L2Rpdj48L2Rpdj4nO1xyXG4gICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPlNSOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2xcIj4nICsgTWF0aC5yb3VuZChwYXJzZUZsb2F0KGpzb24uc3Ryb2tlKSAqIDEwKSAvIDEwICsgJzwvZGl2PjwvZGl2Pic7XHJcbiAgICBpZiAocGFyc2VJbnQoanNvbi5ocikgPiAwKSB7XHJcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkhSOjwvZGl2PjxkaXYgY2xhc3M9XCJjb2wgJyArIHV0aWxzLmdldEhlYXJ0UmF0ZUNvbG9yKHBhcnNlSW50KGpzb24uaHIpKSArICdcIj4nICsgcGFyc2VJbnQoanNvbi5ocikgKyAocGFyc2VJbnQoanNvbi5hdmdIcikgPiAwID8gJygnICsgcGFyc2VJbnQoanNvbi5hdmdIcikgKyAnKScgOiAnJykgKyAnPC9kaXY+PC9kaXY+JztcclxuICAgIH1cclxuICAgIGlmIChqc29uLmZpbGVOYW1lKSB7XHJcbiAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cInJvd1wiPjxkaXYgY2xhc3M9XCJjb2wtc20tNFwiPkFjdGlvbnM6PC9kaXY+PGRpdiBjbGFzcz1cImNvbFwiPjxhIGhyZWY9XCIvc2Vzc2lvbnMvJyArIGpzb24uZmlsZU5hbWU7XHJcbiAgICAgICAgaHRtbCArPSAnXCI+PGkgY2xhc3M9XCJtYXRlcmlhbC1pY29uc1wiPmZpbGVfZG93bmxvYWQ8L2k+PGEgY2xhc3M9XCJzdHJhdmFcIiBocmVmPVwiL3N0cmF2YS91cGxvYWQvJyArIGpzb24ubmFtZTtcclxuICAgICAgICBodG1sICs9ICdcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIlVwbG9hZCB0byBzdHJhdmFcIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Y2xvdWRfdXBsb2FkPC9pPjwvYT4nO1xyXG4gICAgICAgIGh0bWwgKz0gJzxhIGNsYXNzPVwic2Vzc2lvbnNcIiBkYXRhLW5hbWU9XCInICsganNvbi5uYW1lICsgJ1wiIGhyZWY9XCIvc2Vzc2lvbnNcIj48aSBhcmlhLWhpZGRlbj1cInRydWVcIiB0aXRsZT1cIlNlc3Npb25cIiBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+ZmliZXJfbmV3PC9pPjwvYT48L2Rpdj48L2Rpdj4nO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGh0bWwgKyBcIlwiO1xyXG59XHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQgeyBsb2FkTWFpbiwgc3RhcnQsIGdldF9yb3dJbmZvLCBnZXRIdG1sLCBzdGFydFJvdywgc3RvcFJvdywgbG9hZCwgdXBsb2FkVG9TdHJhdmEgfTsiLCJpbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscy91dGlscyc7XHJcbmltcG9ydCBmcm9udCBmcm9tICcuL2Zyb250L2luZGV4JztcclxuaW1wb3J0IHJvdXRlIGZyb20gJy4vcm91dGUvaW5kZXgnO1xyXG5pbXBvcnQgdXNlciBmcm9tICcuL3VzZXIvaW5kZXgnO1xyXG5pbXBvcnQgbWFwVXRpbHMgZnJvbSAnLi91dGlscy9tYXBVdGlscydcclxuaW1wb3J0IG1hcCBmcm9tICcuL21hcC9pbmRleCdcclxuaW1wb3J0IGhpc3RvcnkgZnJvbSAnLi9oaXN0b3J5L2luZGV4J1xyXG5pbXBvcnQgc2Vzc2lvbiBmcm9tICcuL3Nlc3Npb24vaW5kZXgnXHJcblxyXG4vKipcclxuICogRGVjbGFyZXMgYSBuZXcgb2JqZWN0IGluIHRoZSB3aW5kb3cgbmFtZWx5IFF1ZXJ5U3RyaW5nIHRoYXQgY29udGFpbnMgZXZlcnkgZ2V0IHBhcmFtZXRlciBmcm9tIHRoZSBjdXJyZW50IFVSTCBhcyBhIHByb3BlcnR5XHJcbiAqL1xyXG53aW5kb3cuUXVlcnlTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIGlzIGFub255bW91cywgaXMgZXhlY3V0ZWQgaW1tZWRpYXRlbHkgYW5kIFxyXG4gICAgLy8gdGhlIHJldHVybiB2YWx1ZSBpcyBhc3NpZ25lZCB0byBRdWVyeVN0cmluZyFcclxuICAgIHZhciBxdWVyeV9zdHJpbmcgPSB7fTtcclxuICAgIHZhciBxdWVyeSA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpO1xyXG4gICAgdmFyIHZhcnMgPSBxdWVyeS5zcGxpdChcIiZcIik7XHJcblxyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcclxuXHJcbiAgICAgICAgLy8gSWYgZmlyc3QgZW50cnkgd2l0aCB0aGlzIG5hbWVcclxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9PT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgICAgICBxdWVyeV9zdHJpbmdbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XHJcbiAgICAgICAgICAgIC8vIElmIHNlY29uZCBlbnRyeSB3aXRoIHRoaXMgbmFtZVxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXSA9PT0gXCJzdHJpbmdcIikge1xyXG4gICAgICAgICAgICB2YXIgYXJyID0gW3F1ZXJ5X3N0cmluZ1twYWlyWzBdXSwgZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pXTtcclxuICAgICAgICAgICAgcXVlcnlfc3RyaW5nW3BhaXJbMF1dID0gYXJyO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGlyZCBvciBsYXRlciBlbnRyeSB3aXRoIHRoaXMgbmFtZVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHF1ZXJ5X3N0cmluZ1twYWlyWzBdXS5wdXNoKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBxdWVyeV9zdHJpbmc7XHJcbn0oKTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG5cclxuICAgIC8qKiBJbml0IHNoYXJlZCAqL1xyXG4gICAgZnJvbnQuZ2V0X3Jvd0luZm8oZmFsc2UsIFwiXCIpO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5tYWluJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBmcm9udC5sb2FkTWFpbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnI3VzZXInLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHVzZXIubG9hZFVzZXIoKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJyNoaXN0b3J5LXBhZ2UgYScsIGhpc3Rvcnkub3Blbkhpc3RvcnkpO1xyXG5cclxuICAgIC8vVE9ETzogcmVmYWN0b3J5XHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcjcm91dGUtcGFnZSBhJywgcm91dGUub3BlblJvdXRlKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcubmF2LWxpbmsnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQoJyNtYWluLW5hdicpLmZpbmQoXCIubmF2LWl0ZW1cIikuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5zZXNzaW9ucycsIHNlc3Npb24uY2xpY2tTZXNzaW9uKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdhI2hpc3RvcnknLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGhpc3RvcnkubG9hZEhpc3RvcnlJbmRleCgwLCAwKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJ2Ejcm91dGUnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIHJvdXRlLmxvYWRSb3V0ZSgwKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwibG9hZC1tYXBcIiwgJy5ncHgtdHJhY2snLCBtYXBVdGlscy5sb2FkR3B4TWFwKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICdidXR0b24jc3RhcnRSb3cnLCBmcm9udC5zdGFydFJvdyk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnYnV0dG9uI3N0b3BSb3cnLCBmcm9udC5zdG9wUm93KTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZWRpdC11c2VyJywgdXNlci5lZGl0VXNlcik7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmVkaXQtcm91dGUnLCByb3V0ZS5lZGl0Um91dGUpO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5zdHJhdmEnLCBmcm9udC51cGxvYWRUb1N0cmF2YSk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLmRlbC1zZXNzaW9uJywgc2Vzc2lvbi5kZWxldGVTZXNzaW9uKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiI3NhdmUtcm91dGVcIiwgcm91dGUuc2F2ZVJvdXRlKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiI3NhdmUtdXNlclwiLCB1c2VyLnNhdmVVc2VyKTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbihcImNsaWNrXCIsICcuZGVsLXVzZXInLCB1c2VyLmRlbGV0ZVVzZXIpO1xyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKFwiY2xpY2tcIiwgJy5kZWwtcm91dGUnLCByb3V0ZS5kZWxldGVSb3V0ZSk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjbGlja1wiLCAnLnJvdXRlLWRldGFpbCcsIHJvdXRlLmNsaWNrUm91dGVEZXRhaWwpO1xyXG5cclxuICAgICQoJyNsb2FkJykuZWFjaChmcm9udC5sb2FkKTtcclxuXHJcbiAgICAkKCcjcm91dGVzJykuZWFjaChyb3V0ZS5sb2FkUm91dGVzKTtcclxuXHJcbiAgICAkKCcjc2Vzc2lvbi11c2VyJykuZWFjaCh1c2VyLmxvYWRVc2Vycyk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oJ3Nob3cuYnMubW9kYWwnLCAnI3Nob3ctcm91dGUtbW9kYWwnLCByb3V0ZS5zaG93Um91dGVNb2RhbCk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oJ3Nob3duLmJzLm1vZGFsJywgJyNzaG93LXJvdXRlLW1vZGFsJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICB2YXIgbmFtZSA9ICQoZS5yZWxhdGVkVGFyZ2V0KS5kYXRhKCdyb3V0ZS1uYW1lJyk7XHJcbiAgICAgICAgbWFwVXRpbHMuYWRkUm91dGVUcmFja1RvTWFwKG5hbWUsICQoXCIjbGl2ZS1yb3V0ZS1tYXBcIikpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oXCJjaGFuZ2VcIiwgJyNyb3V0ZXMnLCByb3V0ZS5jaGFuZ2VSb3V0ZVNlbGVjdCk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iXSwic291cmNlUm9vdCI6IiJ9